<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-04-11T18:30:27+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">LeeJellan</title><subtitle>ì•ˆë…•í•˜ì„¸ìš”!ğŸ™‚ IT,ì—¬í–‰,ê¸°íƒ€ ë“± ê¸°ë¡ì„ ë‚¨ê¸°ê¸°ìœ„í•œ ë¸”ë¡œê·¸ ì…ë‹ˆë‹¤ !</subtitle><author><name>LEE JAEHYEOK</name></author><entry><title type="html">[Spring] JPA N+1 ë¬¸ì œ ë¶„ì„ (+Querydsl)</title><link href="http://localhost:4000/spring/2023/04/11/spring-jpanplusone.html" rel="alternate" type="text/html" title="[Spring] JPA N+1 ë¬¸ì œ ë¶„ì„ (+Querydsl)" /><published>2023-04-11T00:00:00+09:00</published><updated>2023-04-11T00:00:00+09:00</updated><id>http://localhost:4000/spring/2023/04/11/spring-jpanplusone</id><content type="html" xml:base="http://localhost:4000/spring/2023/04/11/spring-jpanplusone.html"><![CDATA[<p>ì†Œê°œì— ì•ì„œ <a href="https://github.com/MyCatlikesChuru/JavaPersisitenceAPIstudy/tree/main/jpaoneplusn">Github ë ˆí¬ì§€í† ë¦¬</a>ì— ì½”ë“œê°€ ì˜¬ë¼ê°€ ìˆìŠµë‹ˆë‹¤. <br />
<code class="language-plaintext highlighter-rouge">Querydsl</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ê³ , <code class="language-plaintext highlighter-rouge">Spring Boot 2.7.10</code> ì…ë‹ˆë‹¤.</p>

<p>ì˜¤ëŠ˜ì€ Spring Data Jpaë¥¼ ë‹¤ë£¨ë©´ì„œ ë°œìƒí•œ N+1 ë¬¸ì œì— ëŒ€í•´ ì ì–´ë³´ë ¤í•œë‹¤.</p>

<p><br /></p>

<h2 id="jpa-n1-ë¬¸ì œë€">JPA N+1 ë¬¸ì œë€?</h2>

<p>ì—°ê´€ ê´€ê³„ê°€ ì„¤ì •ëœ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ê²½ìš°ì— ì¡°íšŒëœ ë°ì´í„° ê°¯ìˆ˜(N)ë§Œí¼ ì—°ê´€ê´€ê³„ì˜ <br />
ì¡°íšŒ ì¿¼ë¦¬ê°€ ì¶”ê°€ë¡œ ë°œìƒí•˜ì—¬ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” í˜„ìƒì„ ì–˜ê¸°í•œë‹¤.</p>

<p>JPA Repositoryë¡œ ì‹¤í–‰í•˜ëŠ” ì²« ì¿¼ë¦¬ì—ì„œ í•˜ìœ„ ì—”í‹°í‹°ê¹Œì§€ í•œë²ˆì— ê°€ì ¸ì˜¤ì§€ ì•Šê³  <br />
í•˜ìœ„ ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•  ë•Œ ì¶”ê°€ë¡œ ì¡°íšŒí•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.</p>

<p>Fetch Typeì´ EAGER(ì¦‰ì‹œë¡œë”©), LAZY(ì§€ì—°ë¡œë”©) ë‘˜ ë‹¤ ë°œìƒí•˜ê³ <br />
ì¿¼ë¦¬ê°€ ë°œìƒí•˜ëŠ” ì‹œì ë§Œ ë‹¤ë¥¼ë¿ì´ì§€ N+1ë¬¸ì œëŠ” ì—¬ì „í•˜ë‹¤.</p>

<p><br /></p>

<h2 id="ë¬¸ì œ-ë°œìƒ-í…ŒìŠ¤íŠ¸">ë¬¸ì œ ë°œìƒ í…ŒìŠ¤íŠ¸</h2>

<h3 id="í…Œì´ë¸”-ì„¤ëª…">í…Œì´ë¸” ì„¤ëª…</h3>

<p>ë¬¸ì œ ë°œìƒ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ 3ê°œì˜ í…Œì´ë¸”ì„ ë§Œë“¤ì—ˆë‹¤. <br />
<code class="language-plaintext highlighter-rouge">POSTS(ê²Œì‹œê¸€)</code> - <code class="language-plaintext highlighter-rouge">POSTS_TAG(ê²Œì‹œê¸€ íƒœê·¸ ê´€ë¦¬)</code> - <code class="language-plaintext highlighter-rouge">TAG(íƒœê·¸)</code></p>

<p><code class="language-plaintext highlighter-rouge">1:N:1</code> ê´€ê³„ë¥¼ ê°€ì§€ë©°, POSTSìª½ì—ì„œ TAGì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ <br />
LEFT JOINìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” N+1 ë¬¸ì œë¥¼ ì²´í¬í•´ë³¼ ìƒê°ì´ë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/95069395/230547251-d9b554a7-85a0-4430-9aa2-5b1f4548b431.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p><br /></p>

<h3 id="ì½”ë“œ-ì¤€ë¹„">ì½”ë“œ ì¤€ë¹„</h3>

<p>ğŸ”– <strong>í”„ë¡œì íŠ¸ êµ¬ì¡°</strong></p>

<p><a href="https://github.com/MyCatlikesChuru/JavaPersisitenceAPIstudy/tree/main/jpaoneplusn">Github ë ˆí¬ì§€í† ë¦¬</a>ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ë” ë„ì›€ì´ ë©ë‹ˆë‹¤!</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”œâ”€â”€ main
â”‚Â Â  â”œâ”€â”€ java
â”‚Â Â  â”‚Â Â  â””â”€â”€ com
â”‚Â Â  â”‚Â Â      â””â”€â”€ jpa
â”‚Â Â  â”‚Â Â          â””â”€â”€ jpaoneplusn
â”‚Â Â  â”‚Â Â              â”œâ”€â”€ JpaoneplusnApplication.java
â”‚Â Â  â”‚Â Â              â””â”€â”€ domain
â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ config
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ QuerydslConfig.java
â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ entity
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ Posts.java
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ PostsTag.java
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ Tag.java
â”‚Â Â  â”‚Â Â                  â””â”€â”€ repository
â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ PostsCustomRepository.java
â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ PostsCustomRepositoryImpl.java
â”‚Â Â  â”‚Â Â                      â”œâ”€â”€ PostsRepository.java
â”‚Â Â  â”‚Â Â                      â””â”€â”€ TagRepository.java
â”‚Â Â  â””â”€â”€ resources
â”‚Â Â      â”œâ”€â”€ application.yml
â”‚Â Â      â”œâ”€â”€ static
â”‚Â Â      â””â”€â”€ templates
â””â”€â”€ test
    â””â”€â”€ java
        â””â”€â”€ com
            â””â”€â”€ jpa
                â””â”€â”€ jpaoneplusn
                    â”œâ”€â”€ JpaoneplusnApplicationTests.java
                    â””â”€â”€ test
                        â””â”€â”€ PostsTest.java

</code></pre></div></div>

<p><br /></p>

<p>ìš°ì„  ëª¨ë“  í´ë˜ìŠ¤ì˜ ì½”ë“œë¥¼ ì˜¬ë¦¬ê¸°ì—ëŠ” ì´í•´í•˜ëŠ”ë° ë³µì¡í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—  <br />
ì£¼ìš” ì½”ë“œì¸ <code class="language-plaintext highlighter-rouge">Entity</code>ì™€ <code class="language-plaintext highlighter-rouge">PostsCustomRepositoryImpl</code>ë§Œ ì˜¬ë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<p><strong>Posts.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Getter</span>
<span class="nd">@Entity</span>
<span class="nd">@NoArgsConstructor</span><span class="o">(</span><span class="n">access</span> <span class="o">=</span> <span class="nc">AccessLevel</span><span class="o">.</span><span class="na">PROTECTED</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Posts</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>

    <span class="nd">@OneToMany</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="s">"posts"</span><span class="o">,</span> <span class="n">cascade</span> <span class="o">=</span> <span class="nc">CascadeType</span><span class="o">.</span><span class="na">PERSIST</span><span class="o">,</span> <span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span> <span class="c1">// LAZY, EAGER ë³€ê²½í›„ ì¿¼ë¦¬ ì‹œì ë³€ê²½</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">PostsTag</span><span class="o">&gt;</span> <span class="n">postsTags</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="nd">@Builder</span>
    <span class="kd">public</span> <span class="nf">Posts</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">,</span> <span class="nc">String</span> <span class="n">title</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addPostsTag</span><span class="o">(</span><span class="nc">PostsTag</span> <span class="n">postsTag</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">postsTags</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">postsTag</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>PostsTag.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Getter</span>
<span class="nd">@Entity</span>
<span class="nd">@NoArgsConstructor</span><span class="o">(</span><span class="n">access</span> <span class="o">=</span> <span class="nc">AccessLevel</span><span class="o">.</span><span class="na">PROTECTED</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsTag</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"posts_id"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Posts</span> <span class="n">posts</span><span class="o">;</span>

    <span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"tag_id"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Tag</span> <span class="n">tag</span><span class="o">;</span>

    <span class="nd">@Builder</span>
    <span class="kd">public</span> <span class="nf">PostsTag</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">,</span> <span class="nc">Posts</span> <span class="n">posts</span><span class="o">,</span> <span class="nc">Tag</span> <span class="n">tag</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">posts</span> <span class="o">=</span> <span class="n">posts</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">tag</span> <span class="o">=</span> <span class="n">tag</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>Tag.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Getter</span>
<span class="nd">@Entity</span>
<span class="nd">@NoArgsConstructor</span><span class="o">(</span><span class="n">access</span> <span class="o">=</span> <span class="nc">AccessLevel</span><span class="o">.</span><span class="na">PROTECTED</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Tag</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">type</span><span class="o">;</span>

    <span class="nd">@Builder</span>
    <span class="kd">public</span> <span class="nf">Tag</span><span class="o">(</span><span class="nc">Long</span> <span class="n">id</span><span class="o">,</span> <span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="nc">String</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">type</span> <span class="o">=</span> <span class="n">type</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<p><strong>PostsCustomRepositoryImpl</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsCustomRepositoryImpl</span> <span class="kd">implements</span> <span class="nc">PostsCustomRepository</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">JPAQueryFactory</span> <span class="n">queryFactory</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="nf">findAll_noFetchJoin</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="n">posts</span><span class="o">)</span>
                <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">postsTags</span><span class="o">,</span> <span class="n">postsTag</span><span class="o">)</span>
                <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">postsTag</span><span class="o">.</span><span class="na">tag</span><span class="o">,</span> <span class="n">tag</span><span class="o">)</span>
                <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">postsTag</span><span class="o">.</span><span class="na">id</span><span class="o">))</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="nf">findAll_useFetchJoin</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="n">posts</span><span class="o">)</span>
                <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">postsTags</span><span class="o">,</span> <span class="n">postsTag</span><span class="o">).</span><span class="na">fetchJoin</span><span class="o">()</span>
                <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">postsTag</span><span class="o">.</span><span class="na">tag</span><span class="o">,</span> <span class="n">tag</span><span class="o">).</span><span class="na">fetchJoin</span><span class="o">()</span>
                <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">postsTag</span><span class="o">.</span><span class="na">id</span><span class="o">))</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="n1-ë¬¸ì œ-í…ŒìŠ¤íŠ¸">N+1 ë¬¸ì œ í…ŒìŠ¤íŠ¸</h3>

<p>ìš°ì„  <code class="language-plaintext highlighter-rouge">application.yml</code>íŒŒì¼ì— sqlì„ ì¶œë ¥í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ì˜€ë‹¤. <br />
ê·¸ë¦¬ê³  Test ì½”ë“œë¥¼ í†µí•´ ì¿¼ë¦¬ë¥¼ ë³´ë©´ì„œ ê²€ì¦ì„ í•´ë³´ì•˜ë‹¤.</p>

<p><strong>PostsTest</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@SpringBootTest</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsTest</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nc">EntityManager</span> <span class="n">em</span><span class="o">;</span>
    
    <span class="nc">JPAQueryFactory</span> <span class="n">queryFactory</span><span class="o">;</span>
    
    <span class="nd">@Autowired</span>
    <span class="nc">PostsRepository</span> <span class="n">postsRepository</span><span class="o">;</span>
    
    <span class="nd">@Autowired</span>
    <span class="nc">TagRepository</span> <span class="n">tagRepository</span><span class="o">;</span>


    <span class="nd">@BeforeEach</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">queryFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPAQueryFactory</span><span class="o">(</span><span class="n">em</span><span class="o">);</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">Posts</span> <span class="n">post</span> <span class="o">=</span> <span class="nc">Posts</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">title</span><span class="o">(</span><span class="s">"ì œëª© "</span><span class="o">+</span><span class="n">i</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
            <span class="nc">Tag</span> <span class="n">tag</span> <span class="o">=</span> <span class="nc">Tag</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">name</span><span class="o">(</span><span class="s">"íƒœê·¸ "</span><span class="o">+</span><span class="n">i</span><span class="o">).</span><span class="na">type</span><span class="o">(</span><span class="s">"íƒ€ì… "</span><span class="o">+</span><span class="n">i</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
            <span class="nc">PostsTag</span> <span class="n">postTag</span> <span class="o">=</span> <span class="nc">PostsTag</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">tag</span><span class="o">(</span><span class="n">tag</span><span class="o">).</span><span class="na">posts</span><span class="o">(</span><span class="n">post</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
            <span class="n">post</span><span class="o">.</span><span class="na">addPostsTag</span><span class="o">(</span><span class="n">postTag</span><span class="o">);</span>
            <span class="n">tagRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">tag</span><span class="o">);</span>
            <span class="n">postsRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">post</span><span class="o">);</span>
<span class="c1">//            em.persist(tag);</span>
<span class="c1">//            em.persist(post);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ê°€ë…ì„±ì„ ìœ„í•´ ì½”ë“œë¥¼ ë¶„ë¦¬í•´ì„œ ì„¤ëª…í•˜ê² ë‹¤.  <br />
ì²«ë²ˆì¨°ë¡œ @BeforeEachë¥¼ í†µí•´ì„œ Posts, Tag, PostsTagì— ì •ë³´ë¥¼ ë„£ì–´ ì£¼ì—ˆë‹¤. <br />
ì´4ê°œì”© ë„£ì–´ ì£¼ì—ˆê³  Repositoryì— <code class="language-plaintext highlighter-rouge">.save()</code>ë¥¼ ì´ìš©í•´ í…Œì´ë¸”ì— ì €ì¥í•´ì£¼ì—ˆë‹¤.  <br />
ì—¬ê¸°ì„œ PostsTagëŠ” casecadeë¥¼ ì´ìš©í•´ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— Repositoryë¥¼ ë”°ë¡œ ë§Œë“¤ì§€ ì•Šì•˜ë‹¤.</p>

<p><br /></p>

<p>ë³¸ê²©ì ì¸ í…ŒìŠ¤íŠ¸ëŠ” ì•„ë˜ì—ì„œ ë¶€í„° ì„¤ëª…í•˜ê² ë‹¤.</p>

<h4 id="1-n1-ë¬¸ì œ-í…ŒìŠ¤íŠ¸">1. N+1 ë¬¸ì œ í…ŒìŠ¤íŠ¸</h4>
<p>ì²«ë²ˆì§¸ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™” í•´ì£¼ì–´ì•¼í•œë‹¤. <br />
ì´ˆê¸°í™” ì‹œì¼œì£¼ì§€ ì•ŠëŠ”ë‹¤ë©´ ì´ë¯¸ ì˜ì†í™”ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—  <br />
ë¬¸ì œ ë°œìƒìƒí™©ì´ ì²´í¬ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"N+1 ë¬¸ì œ ë°œìƒí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">jpaProblem</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”</span>
        <span class="n">em</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">em</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============= ì¿¼ë¦¬ ì‹œì‘ ============="</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="n">findPosts</span> <span class="o">=</span> <span class="n">postsRepository</span><span class="o">.</span><span class="na">findAll_noFetchJoin</span><span class="o">();</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============= PostsTag ê°€ì ¸ì˜¤ê¸° ============="</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">PostsTag</span><span class="o">&gt;</span> <span class="n">findPostsTag</span> <span class="o">=</span> <span class="n">findPosts</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getPostsTags</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"PostsTag id = "</span> <span class="o">+</span> <span class="n">findPostsTag</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getId</span><span class="o">());</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============= Tag ê°€ì ¸ì˜¤ê¸° ============="</span><span class="o">);</span>
        <span class="nc">Tag</span> <span class="n">tag</span> <span class="o">=</span> <span class="n">findPostsTag</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getTag</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Tag Name = "</span> <span class="o">+</span> <span class="n">tag</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>ê·¸ë¦¬ê³  í”„ë¦°íŠ¸ì¶œë ¥ë¬¸ìœ¼ë¡œ 3ê°€ì§€ íŒŒíŠ¸ë¡œ ë‚˜ëˆ„ì—ˆê³   <br />
ì²˜ìŒì— ë ˆí¬ì§€í† ë¦¬ì—ì„œ ì¿¼ë¦¬ë¥¼ ê°€ì ¸ì˜¤ê³  ë‹¤ë¥¸ í…Œì´ë¸”ì— ì ‘ê·¼í•˜ë„ë¡ ë‚˜ëˆ„ì—ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">postsRepository.findAll_noFetchJoin();</code>ë¥¼ í˜¸ì¶œí•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ì˜€ë‹¤.<br />
(ìœ„ì— Querydsl ì½”ë“œë¡œ ì‘ì„±ëœ í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°)</p>

<p>í˜„ì¬ êµ¬ë¶„í•˜ê¸° ì‰½ê²Œ <code class="language-plaintext highlighter-rouge">Posts</code> ì—”í‹°í‹°ë‚˜ <code class="language-plaintext highlighter-rouge">PostsTag</code>ì—”í‹°í‹°ë‚˜ FetchTypeì„ LAZYë¡œ ì„¤ì •í–ˆë‹¤.<br />
(EAGERë¡œ í•˜ì—¬ë„ ì¿¼ë¦¬ ì¶œë ¥ ì‹œì ë§Œ ë‹¤ë¥´ê³  N+1ë¬¸ì œëŠ” ë°œìƒí•©ë‹ˆë‹¤.)</p>

<p><strong>LAZY ì„¤ì •</strong></p>
<pre><code class="language-roomsql">============= ì¿¼ë¦¬ ì‹œì‘ =============
Hibernate: 
    select
        posts0_.id as id1_0_,
        posts0_.title as title2_0_ 
    from
        posts posts0_ 
    left outer join
        posts_tag poststags1_ 
            on posts0_.id=poststags1_.posts_id 
    left outer join
        tag tag2_ 
            on poststags1_.tag_id=tag2_.id 
    where
        posts0_.id=poststags1_.id
============= PostsTag ê°€ì ¸ì˜¤ê¸° =============
Hibernate: 
    select
        poststags0_.posts_id as posts_id2_1_0_,
        poststags0_.id as id1_1_0_,
        poststags0_.id as id1_1_1_,
        poststags0_.posts_id as posts_id2_1_1_,
        poststags0_.tag_id as tag_id3_1_1_ 
    from
        posts_tag poststags0_ 
    where
        poststags0_.posts_id=?
PostsTag id = 1
============= Tag ê°€ì ¸ì˜¤ê¸° =============
Hibernate: 
    select
        tag0_.id as id1_2_0_,
        tag0_.name as name2_2_0_,
        tag0_.type as type3_2_0_ 
    from
        tag tag0_ 
    where
        tag0_.id=?
Tag Name = íƒœê·¸ 1
</code></pre>

<p>ì‹¤ì œ ì¿¼ë¦¬ë¥¼ í™•ì¸í•´ë³´ë©´ Hibernateë¡œ êµ¬ë¶„ì„ í•˜ë©´ ë˜ëŠ”ë° 3ë²ˆì˜ ì¿¼ë¦¬ê°€ ë‚˜ì˜¤ê²Œë˜ì—ˆë‹¤.<br />
ì¦‰ ì—°ê´€ê´€ê³„ê°€ ì„¤ì •ëœ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ëŠ”ë° ì¿¼ë¦¬ê°€ ì¶”ê°€ë¡œ ë°œìƒí•˜ì˜€ê¸° ë•Œë¬¸ì— <br />
N+1ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤ëŠ” ê²ƒì´ë‹¤.</p>

<p><br /></p>

<p>ë§Œì•½ EAGERë¡œ ë³€ê²½í•˜ê²Œë  ê²½ìš°</p>

<p><strong>EAGER ì„¤ì •</strong></p>
<pre><code class="language-roomsql">============= ì¿¼ë¦¬ ì‹œì‘ =============
Hibernate: 
    select
        posts0_.id as id1_0_,
        posts0_.title as title2_0_ 
    from
        posts posts0_ 
    left outer join
        posts_tag poststags1_ 
            on posts0_.id=poststags1_.posts_id 
    left outer join
        tag tag2_ 
            on poststags1_.tag_id=tag2_.id 
    where
        posts0_.id=poststags1_.id
Hibernate: 
    select
        poststags0_.posts_id as posts_id2_1_0_,
        poststags0_.id as id1_1_0_,
        poststags0_.id as id1_1_1_,
        poststags0_.posts_id as posts_id2_1_1_,
        poststags0_.tag_id as tag_id3_1_1_,
        tag1_.id as id1_2_2_,
        tag1_.name as name2_2_2_,
        tag1_.type as type3_2_2_ 
    from
        posts_tag poststags0_ 
    left outer join
        tag tag1_ 
            on poststags0_.tag_id=tag1_.id 
    where
        poststags0_.posts_id=?
Hibernate: 
    select
        poststags0_.posts_id as posts_id2_1_0_,
        poststags0_.id as id1_1_0_,
        poststags0_.id as id1_1_1_,
        poststags0_.posts_id as posts_id2_1_1_,
        poststags0_.tag_id as tag_id3_1_1_,
        tag1_.id as id1_2_2_,
        tag1_.name as name2_2_2_,
        tag1_.type as type3_2_2_ 
    from
        posts_tag poststags0_ 
    left outer join
        tag tag1_ 
            on poststags0_.tag_id=tag1_.id 
    where
        poststags0_.posts_id=?
Hibernate: 
    select
        poststags0_.posts_id as posts_id2_1_0_,
        poststags0_.id as id1_1_0_,
        poststags0_.id as id1_1_1_,
        poststags0_.posts_id as posts_id2_1_1_,
        poststags0_.tag_id as tag_id3_1_1_,
        tag1_.id as id1_2_2_,
        tag1_.name as name2_2_2_,
        tag1_.type as type3_2_2_ 
    from
        posts_tag poststags0_ 
    left outer join
        tag tag1_ 
            on poststags0_.tag_id=tag1_.id 
    where
        poststags0_.posts_id=?
Hibernate: 
    select
        poststags0_.posts_id as posts_id2_1_0_,
        poststags0_.id as id1_1_0_,
        poststags0_.id as id1_1_1_,
        poststags0_.posts_id as posts_id2_1_1_,
        poststags0_.tag_id as tag_id3_1_1_,
        tag1_.id as id1_2_2_,
        tag1_.name as name2_2_2_,
        tag1_.type as type3_2_2_ 
    from
        posts_tag poststags0_ 
    left outer join
        tag tag1_ 
            on poststags0_.tag_id=tag1_.id 
    where
        poststags0_.posts_id=?
============= PostsTag ê°€ì ¸ì˜¤ê¸° =============
PostsTag id = 1
============= Tag ê°€ì ¸ì˜¤ê¸° =============
Tag Name = íƒœê·¸ 1
</code></pre>

<p>ì¿¼ë¦¬ê°€ 5ë²ˆ ë‚˜ì˜¤ê²Œë˜ì—ˆë‹¤. ì¦‰ì‹œë¡œë”©ì´ê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ì‹œì‘í•˜ëŠ” ë¶€ë¶„ì—ì„œ <br />
ëª¨ë“  ì¿¼ë¦¬ê°€ ë‚˜ì˜¤ê²Œ ëœ ì°¨ì´ì ë§Œ ìˆì„ë¿ N+1ë¬¸ì œëŠ” ì—¬ì „íˆ ì¡´ì¬í•œë‹¤. <br />
ì˜¤íˆë ¤ ì¿¼ë¦¬ê°€ 2ê°œë‚˜ ë”ë‚˜ì˜¤ê²Œë˜ì—ˆë‹¤.</p>

<p><br /></p>

<h4 id="2-n1-í•´ê²°-í…ŒìŠ¤íŠ¸">2. N+1 í•´ê²° í…ŒìŠ¤íŠ¸</h4>
<p>ì´ë ‡ê²Œ ì½˜ì†”ì„ í†µí•´ì„œ N+1ë¬¸ì œê°€ ë°œìƒí•˜ê³  ìˆë‹¤ëŠ”ê±¸ í™•ì¸í–ˆë‹¤.<br />
ê·¸ëŸ¬ë©´ í•´ê²°í•˜ë ¤ë©´ ì–´ë–»ê²Œí•´ì•¼í•˜ëŠ”ê°€?</p>

<p>í•´ê²°ë°©ë²•ìœ¼ë¡œëŠ” <code class="language-plaintext highlighter-rouge">fetchJoin</code>ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. <br />
<code class="language-plaintext highlighter-rouge">findAll_useFetchJoin()</code> ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ë©´ëœë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="nf">findAll_useFetchJoin</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">selectFrom</span><span class="o">(</span><span class="n">posts</span><span class="o">)</span>
                <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">postsTags</span><span class="o">,</span> <span class="n">postsTag</span><span class="o">).</span><span class="na">fetchJoin</span><span class="o">()</span> <span class="c1">// &lt;- fetchJoin</span>
                <span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">postsTag</span><span class="o">.</span><span class="na">tag</span><span class="o">,</span> <span class="n">tag</span><span class="o">).</span><span class="na">fetchJoin</span><span class="o">()</span> <span class="c1">// &lt;- fetchJoin</span>
                <span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">postsTag</span><span class="o">.</span><span class="na">id</span><span class="o">))</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">findAll_noFetchJoin()</code> ì½”ë“œì—ì„œ <code class="language-plaintext highlighter-rouge">fetchJoin()</code>ì„ ë¶™ì—¬ì¤€ê²Œ ëì´ë‹¤.</p>

<p>ê·¸ëŸ¼ ì´ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ì</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"N+1 ë¬¸ì œ í•´ê²°í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">jpaProblemSolve</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”</span>
        <span class="n">em</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">em</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============= ì¿¼ë¦¬ ì‹œì‘ ============="</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="n">findPosts</span> <span class="o">=</span> <span class="n">postsRepository</span><span class="o">.</span><span class="na">findAll_useFetchJoin</span><span class="o">();</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============= PostsTag ê°€ì ¸ì˜¤ê¸° ============="</span><span class="o">);</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">PostsTag</span><span class="o">&gt;</span> <span class="n">findPostsTag</span> <span class="o">=</span> <span class="n">findPosts</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getPostsTags</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"PostsTag id = "</span> <span class="o">+</span> <span class="n">findPostsTag</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getId</span><span class="o">());</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============= Tag ê°€ì ¸ì˜¤ê¸° ============="</span><span class="o">);</span>
        <span class="nc">Tag</span> <span class="n">tag</span> <span class="o">=</span> <span class="n">findPostsTag</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getTag</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Tag Name = "</span> <span class="o">+</span> <span class="n">tag</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre></div></div>
<p>ë˜‘ê°™ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ <code class="language-plaintext highlighter-rouge">postsRepository.findAll_useFetchJoin();</code>ë§Œ ë³€ê²½ë˜ì—ˆë‹¤.</p>

<p>ì‹¤ì œ SQLë¬¸ì„ í™•ì¸í•´ë³´ë©´ì„œ ì°¨ì´ì ì„ ëŠê»´ë³´ì <br />
FetchType ì„¤ì •ì€ LAZY, EAGER ë˜‘ê°™ì´ ì¶œë ¥ëœë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">=============</span> <span class="n">ì¿¼ë¦¬</span> <span class="n">ì‹œì‘</span> <span class="o">=============</span>
<span class="nl">Hibernate:</span> 
    <span class="n">select</span>
        <span class="n">posts0_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_0_0_</span><span class="o">,</span>
        <span class="n">poststags1_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_1_1_</span><span class="o">,</span>
        <span class="n">tag2_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_2_2_</span><span class="o">,</span>
        <span class="n">posts0_</span><span class="o">.</span><span class="na">title</span> <span class="n">as</span> <span class="n">title2_0_0_</span><span class="o">,</span>
        <span class="n">poststags1_</span><span class="o">.</span><span class="na">posts_id</span> <span class="n">as</span> <span class="n">posts_id2_1_1_</span><span class="o">,</span>
        <span class="n">poststags1_</span><span class="o">.</span><span class="na">tag_id</span> <span class="n">as</span> <span class="n">tag_id3_1_1_</span><span class="o">,</span>
        <span class="n">poststags1_</span><span class="o">.</span><span class="na">posts_id</span> <span class="n">as</span> <span class="n">posts_id2_1_0__</span><span class="o">,</span>
        <span class="n">poststags1_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_1_0__</span><span class="o">,</span>
        <span class="n">tag2_</span><span class="o">.</span><span class="na">name</span> <span class="n">as</span> <span class="n">name2_2_2_</span><span class="o">,</span>
        <span class="n">tag2_</span><span class="o">.</span><span class="na">type</span> <span class="n">as</span> <span class="n">type3_2_2_</span> 
    <span class="n">from</span>
        <span class="n">posts</span> <span class="n">posts0_</span> 
    <span class="n">left</span> <span class="n">outer</span> <span class="n">join</span>
        <span class="n">posts_tag</span> <span class="n">poststags1_</span> 
            <span class="n">on</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">id</span><span class="o">=</span><span class="n">poststags1_</span><span class="o">.</span><span class="na">posts_id</span> 
    <span class="n">left</span> <span class="n">outer</span> <span class="n">join</span>
        <span class="n">tag</span> <span class="n">tag2_</span> 
            <span class="n">on</span> <span class="n">poststags1_</span><span class="o">.</span><span class="na">tag_id</span><span class="o">=</span><span class="n">tag2_</span><span class="o">.</span><span class="na">id</span> 
    <span class="n">where</span>
        <span class="n">posts0_</span><span class="o">.</span><span class="na">id</span><span class="o">=</span><span class="n">poststags1_</span><span class="o">.</span><span class="na">id</span>
<span class="o">=============</span> <span class="nc">PostsTag</span> <span class="n">ê°€ì ¸ì˜¤ê¸°</span> <span class="o">=============</span>
<span class="nc">PostsTag</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">5</span>
<span class="o">=============</span> <span class="nc">Tag</span> <span class="n">ê°€ì ¸ì˜¤ê¸°</span> <span class="o">=============</span>
<span class="nc">Tag</span> <span class="nc">Name</span> <span class="o">=</span> <span class="n">íƒœê·¸</span> <span class="mi">1</span>
</code></pre></div></div>

<p>ì¿¼ë¦¬ê°€ 1ê°œë§Œ ì¶œë ¥ëœ ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <br />
ì‹¤ì œë¡œ N+1 ë¬¸ì œê°€ ë°œìƒí•œ ì¿¼ë¦¬ë‘ ì°¨ì´ë¥¼ ëŠë‚„ ìˆ˜ ìˆê³  <br />
í•´ë‹¹ APIë¥¼ ë§Œë²ˆ ì¡°íšŒí•œë‹¤ì¹˜ë©´ ì¿¼ë¦¬ì˜ ì–‘ë„ 3ë°°ë‚˜ ì°¨ì´ê°€ ë‚˜ê²Œë˜ëŠ” ê²ƒì´ë‹¤.</p>

<p><br /></p>

<hr />

<p>ì˜¤ëŠ˜ì€ ì´ë ‡ê²Œ N+1 ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì´ìœ ì™€ í•´ê²°ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ëŠ”ë° <br />
<code class="language-plaintext highlighter-rouge">fetchJoin()</code>ì™¸ì—ë„ EntityGraph, Batch Sizeë¥¼ í†µí•´ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤ê³ í•œë‹¤. <br />
í•´ë‹¹ ë°©ë²•ì— ëŒ€í•´ì„œëŠ” ì¶”í›„ í¬ìŠ¤íŒ…ì„ í•´ë³´ë„ë¡í•˜ë ¤í•˜ê³ , fetchJoinì— ëŒ€í•œ ì›ë¦¬ ê³µë¶€ë„ <br />
í•„ìš”í•˜ë‹¤ê³  ëŠê»´ì§„ë‹¤..</p>

<p><br />
<br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="Spring" /><category term="Spring" /><category term="QueryDSL" /><summary type="html"><![CDATA[ì†Œê°œì— ì•ì„œ Github ë ˆí¬ì§€í† ë¦¬ì— ì½”ë“œê°€ ì˜¬ë¼ê°€ ìˆìŠµë‹ˆë‹¤. Querydsl ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ê³ , Spring Boot 2.7.10 ì…ë‹ˆë‹¤.]]></summary></entry><entry><title type="html">[Programmers] 3ì›”ì— íƒœì–´ë‚œ ì—¬ì„± íšŒì› ëª©ë¡ ì¶œë ¥í•˜ê¸° (MySQL)</title><link href="http://localhost:4000/sql/2023/04/11/sql-womenmarch.html" rel="alternate" type="text/html" title="[Programmers] 3ì›”ì— íƒœì–´ë‚œ ì—¬ì„± íšŒì› ëª©ë¡ ì¶œë ¥í•˜ê¸° (MySQL)" /><published>2023-04-11T00:00:00+09:00</published><updated>2023-04-11T00:00:00+09:00</updated><id>http://localhost:4000/sql/2023/04/11/sql-womenmarch</id><content type="html" xml:base="http://localhost:4000/sql/2023/04/11/sql-womenmarch.html"><![CDATA[<h2 id="-ë¬¸ì œ--ì¹´í…Œê³ ë¦¬-ë³„-ìƒí’ˆ-ê°œìˆ˜-êµ¬í•˜ê¸°">ğŸ“Œ ë¬¸ì œ : [ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸°]</h2>

<h3 id="-ë¬¸ì œ-ì„¤ëª…">ğŸ“– ë¬¸ì œ ì„¤ëª…</h3>

<p>ë‹¤ìŒì€ ì‹ë‹¹ ë¦¬ë·° ì‚¬ì´íŠ¸ì˜ íšŒì› ì •ë³´ë¥¼ ë‹´ì€ <code>MEMBER_PROFILE</code> í…Œì´ë¸”ì…ë‹ˆë‹¤. <code>MEMBER_PROFILE</code> í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° <code>MEMBER_ID</code>, <code>MEMBER_NAME</code>, <code>TLNO</code>, <code>GENDER</code>, <code>DATE_OF_BIRTH</code>ëŠ” íšŒì› ID, íšŒì› ì´ë¦„, íšŒì› ì—°ë½ì²˜, ì„±ë³„, ìƒë…„ì›”ì¼ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>Column name</th>
<th>Type</th>
<th>Nullable</th>
</tr>
</thead>
        <tbody><tr>
<td>MEMBER_ID</td>
<td>VARCHAR(100)</td>
<td>FALSE</td>
</tr>
<tr>
<td>MEMBER_NAME</td>
<td>VARCHAR(50)</td>
<td>FALSE</td>
</tr>
<tr>
<td>TLNO</td>
<td>VARCHAR(50)</td>
<td>TRUE</td>
</tr>
<tr>
<td>GENDER</td>
<td>VARCHAR(1)</td>
<td>TRUE</td>
</tr>
<tr>
<td>DATE_OF_BIRTH</td>
<td>DATE</td>
<td>TRUE</td>
</tr>
</tbody>
      </table>
<hr />

<h5>ë¬¸ì œ</h5>

<p><code>MEMBER_PROFILE</code> í…Œì´ë¸”ì—ì„œ ìƒì¼ì´ 3ì›”ì¸ ì—¬ì„± íšŒì›ì˜ ID, ì´ë¦„, ì„±ë³„, ìƒë…„ì›”ì¼ì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ì „í™”ë²ˆí˜¸ê°€ NULLì¸ ê²½ìš°ëŠ” ì¶œë ¥ëŒ€ìƒì—ì„œ ì œì™¸ì‹œì¼œ ì£¼ì‹œê³ , ê²°ê³¼ëŠ” íšŒì›IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”. </p>

<hr />

<h5>ì˜ˆì‹œ</h5>

<p><code>MEMBER_PROFILE</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ</p>
<table class="table">
        <thead><tr>
<th>MEMBER_ID</th>
<th>MEMBER_NAME</th>
<th>TLNO</th>
<th>GENDER</th>
<th>DATE_OF_BIRTH</th>
</tr>
</thead>
        <tbody><tr>
<td><code>jiho92@naver.com</code></td>
<td>ì´ì§€í˜¸</td>
<td>01076432111</td>
<td>W</td>
<td>1992-02-12</td>
</tr>
<tr>
<td><code>jiyoon22@hotmail.com</code></td>
<td>ê¹€ì§€ìœ¤</td>
<td>01032324117</td>
<td>W</td>
<td>1992-02-22</td>
</tr>
<tr>
<td><code>jihoon93@hanmail.net</code></td>
<td>ê¹€ì§€í›ˆ</td>
<td>01023258688</td>
<td>M</td>
<td>1993-02-23</td>
</tr>
<tr>
<td><code>seoyeons@naver.com</code></td>
<td>ë°•ì„œì—°</td>
<td>01076482209</td>
<td>W</td>
<td>1993-03-16</td>
</tr>
<tr>
<td><code>yoonsy94@gmail.com</code></td>
<td>ìœ¤ì„œì—°</td>
<td>NULL</td>
<td>W</td>
<td>1994-03-19</td>
</tr>
</tbody>
      </table>
<p>SQLì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì¶œë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>MEMBER_ID</th>
<th>MEMBER_NAME</th>
<th>GENDER</th>
<th>DATE_OF_BIRTH</th>
</tr>
</thead>
        <tbody><tr>
<td><code>seoyeons@naver.com</code></td>
<td>ë°•ì„œì—°</td>
<td>W</td>
<td>1993-03-16</td>
</tr>
</tbody>
      </table>
<hr />

<h5>ì£¼ì˜ì‚¬í•­</h5>

<p><code>DATE_OF_BIRTH</code>ì˜ ë°ì´íŠ¸ í¬ë§·ì´ ì˜ˆì‹œì™€ ë™ì¼í•´ì•¼ ì •ë‹µì²˜ë¦¬ ë©ë‹ˆë‹¤.</p>

<blockquote>
  <p>ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges</p>
</blockquote>

<hr />

<h2 id="-ë¬¸ì œ-í’€ì´">ğŸ— ë¬¸ì œ í’€ì´</h2>

<ol>
  <li>ì—¬ì„±íšŒì›ë§Œ ì¶œë ¥í•´ì•¼í•˜ë¯€ë¡œ WHEREì ˆë¡œ GENDER = â€˜Wâ€™</li>
  <li>ì „í™”ë²ˆí˜¸ê°€ nullì´ ì•„ë‹ˆì—¬ì•¼í•˜ë¯€ë¡œ TLO is not null</li>
  <li>3ì›”ì— íƒœì–´ë‚œ íšŒì›ë§Œ ì¶”ì¶œí•´ì•¼í•˜ë¯€ë¡œ LIKEì ˆì„ ì´ìš© â€˜%-03-%â€™</li>
  <li>MEMBER_ID ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬</li>
</ol>

<pre><code class="language-roomsql">SELECT MEMBER_ID,
    MEMBER_NAME,
    GENDER,
    DATE_FORMAT(DATE_OF_BIRTH,'%Y-%m-%d') AS DATE_OF_BIRTH
FROM MEMBER_PROFILE m
WHERE GENDER = 'W' 
AND TLNO is not null
AND DATE_OF_BIRTH LIKE '%-03-%'
ORDER BY MEMBER_ID ASC;
</code></pre>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="SQL" /><category term="SQL" /><category term="Programmers" /><summary type="html"><![CDATA[ğŸ“Œ ë¬¸ì œ : [ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸°]]]></summary></entry><entry><title type="html">[DB] Joinì˜ ì¢…ë¥˜</title><link href="http://localhost:4000/db/2023/04/10/db-join.html" rel="alternate" type="text/html" title="[DB] Joinì˜ ì¢…ë¥˜" /><published>2023-04-10T00:00:00+09:00</published><updated>2023-04-10T00:00:00+09:00</updated><id>http://localhost:4000/db/2023/04/10/db-join</id><content type="html" xml:base="http://localhost:4000/db/2023/04/10/db-join.html"><![CDATA[<h3 id="join-ì´ë€">Join ì´ë€?</h3>

<p>ì¡°ì¸(Join)ì´ë€ í•˜ë‚˜ì˜ í…Œì´ë¸”ì´ ì•„ë‹Œ ë‘ ê°œ ì´ìƒì˜ í…Œì´ë¸”ì„ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ê²°ê³¼ë¬¼ì„ ë§Œë“œëŠ” <br />
ê²ƒì„ ì–˜ê¸°í•œë‹¤. MySQLì—ì„œëŠ” JOINì´ë¼ëŠ” ì¿¼ë¦¬ë¡œ, MongoDBì—ì„œëŠ” lookupì´ë¼ëŠ” ì¿¼ë¦¬ë¡œ ì´ë¥¼ ì²˜ë¦¬í•œë‹¤.</p>

<p>ì°¸ê³ ë¡œ RDBMSë³´ë‹¤ DBMSê°€ ì¡°ì¸ì—°ì‚°ì— ëŒ€í•´ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤ê³  ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ì—ì„œ ì•Œë ¤ì ¸ ìˆë‹¤. <br />
ì¦‰, MongoDBì—ì„œëŠ” ë˜ë„ë¡ lookupì„ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼í•œë‹¤. ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ëŠ” ì‘ì—…ì´ ë§ì„ ê²½ìš° <br />
ì—ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ì í•©í•˜ë‹¤.</p>

<p><br /></p>

<h3 id="joinì˜-ì¢…ë¥˜">Joinì˜ ì¢…ë¥˜</h3>

<p><img src="https://user-images.githubusercontent.com/95069395/230895141-c489f559-205c-41e3-8589-d1912b913dc5.png" alt="image" class="align-left" style="max-width: 100%" />   <br />
<a href="https://server-dev.tistory.com/35">ê·¸ë¦¼ ì¶œì²˜ - ì†Œì°¾ë‚˜ë‹˜</a></p>

<p>Joinì˜ ì¢…ë¥˜ëŠ” ìœ„ì™€ ê°™ë‹¤.</p>

<p>ê°€ì¥ ëŒ€í‘œì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì¡°ì¸ì€ 3ê°€ì§€ê°€ ìˆë‹¤. (ìœ„ì— ê·¸ë¦¼ì—ì„œ ìƒìœ„ 3ê°œ)</p>
<ul>
  <li>LEFT OUTER JOIN : ì™¼ìª½ í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ì´ ê²°ê³¼ í…Œì´ë¸”ì— í‘œê¸°ëœë‹¤.</li>
  <li>INNER JOIN : ì™¼ìª½ í…Œì´ë¸”ê³¼ ì˜¤ë¥¸ìª½ í…Œì´ë¸”ì˜ ë‘ í–‰ì´ ëª¨ë‘ ì¼ì¹˜í•˜ëŠ” í–‰ì´ ìˆëŠ” ë¶€ë¶„ë§Œ í‘œê¸°ëœë‹¤.</li>
  <li>RIGHT OUTER JOIN : ì˜¤ë¥¸ìª½ í…Œì´ë¸”ì˜ ëª¨ë“  í–‰ì´ ê²°ê³¼ í…Œì´ë¸”ì— í‘œê¸°ëœë‹¤.</li>
</ul>

<p><br /></p>

<p>í…Œì´ë¸”ì„ ì‹¤ì œë¡œ ë§Œë“¤ì–´ì„œ ì˜ˆì œë¥¼ ì ìš©ì‹œì¼œ ë³´ì. <br />
MYSQLì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ì„ í•´ë³¸ë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/95069395/230901387-9a835c93-ab3c-4819-9c68-bdabdf04d4d5.png" alt="image" class="align-left" style="max-width: 70%" /></p>

<p>Member í…Œì´ë¸”ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ì •ë³´ë¥¼ ì‚½ì… í•˜ì˜€ê³  (3ê°œ)</p>

<p><img src="https://user-images.githubusercontent.com/95069395/230901520-8a76578c-ae85-4ffb-acd4-a5b6c9772c90.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p><br /></p>

<p>POSTS í…Œì´ë¸”ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ì •ë³´ë¥¼ ë„£ì–´ ë‘ì—ˆë‹¤. (4ê±”)</p>

<p><img src="https://user-images.githubusercontent.com/95069395/230901523-b5ec05c4-799e-4e08-8551-4d59c0db526f.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p><br /></p>

<p><br /></p>

<h4 id="1-left-join">1. LEFT JOIN</h4>

<p><img src="https://user-images.githubusercontent.com/95069395/230900044-2aaddb97-ca1b-482c-96a8-fc370aa38e02.png" alt="image" class="align-left" style="max-width: 60%" /></p>

<p>LEFT JOINì€ LEFT OUTER JOINê³¼ ë™ì¼í•œ ë§ì´ë‹¤. <br />
MEMBERë¥¼ Aë¼ê³  ê¸°ì¤€ì„ ë‘ê³  POSTë¥¼ Bë¼ê³  ê°€ì •í•˜ê³  SQLì„ ì‘ì„±í•´ë³´ì</p>

<pre><code class="language-roomsql">SELECT * 
FROM member m
LEFT JOIN posts p 
ON m.id = p.id;
</code></pre>

<p><img src="https://user-images.githubusercontent.com/95069395/230901518-ce0b6cd7-70b4-4631-a1b0-8ec71125076b.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>ì‹¤í–‰ê²°ê³¼ëŠ” ìœ„ì™€ ê°™ì´ ë‚˜ì˜¨ë‹¤. member í…Œì´ë¸”ì˜ idì™€ posts idê°€ ê°™ì€ê±¸  <br />
LEFT JOINì„ ì‹¤í–‰í•˜ëŠ” êµ¬ë¬¸ì´ë‹¤. member í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒí•˜ê¸° ë•Œë¬¸ì— <br />
ì´ 3ê°œì˜ ë ˆì½”ë“œê°€ í‘œí˜„ë˜ì–´ì§„ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p>ë°˜ëŒ€ë¡œ posts í…Œì´ë¸”ì„ Aë¡œ ë‘ê³  SQLë¬¸ì„ ì‘ì„±í•œë‹¤ë©´</p>

<p><img src="https://user-images.githubusercontent.com/95069395/230902997-d95c55d5-93fc-40e1-80aa-049b183b03ea.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>ìœ„ì™€ ê°™ì´ posts í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ memberë¥¼ ê°€ì ¸ì˜¤ê³  <br />
ë°ì´í„°ê°€ ì—†ëŠ” ìë¦¬ì—ëŠ” nullì´ë¼ëŠ” ê°’ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤.</p>

<p><br /></p>

<h4 id="2-inner-join">2. INNER JOIN</h4>

<p><img src="https://user-images.githubusercontent.com/95069395/230900146-f2c10db6-3b72-4319-8300-abbf44867bf5.png" alt="image" class="align-left" style="max-width: 60%" /></p>

<p>INNER JOINì˜ íŠ¹ì„±ì€ êµì§‘í•©ì˜ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒì´ë‹¤.</p>

<pre><code class="language-roomsql">SELECT * 
FROM posts p
JOIN member m
ON m.id = p.id;
</code></pre>

<p><img src="https://user-images.githubusercontent.com/95069395/230903795-8103881d-6769-405c-b045-2d738c1c76f3.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>ì´ë²ˆì—ëŠ” postsë¥¼ Aë¡œ ë‘ê³  INNER JOINì„ ì‹¤í–‰ì‹œì¼œ ë³´ì•˜ë‹¤. <br />
LEFT JOINì—ì„œëŠ” ê°’ì´ nullë¡œ ë“¤ì–´ì™”ì§€ë§Œ, INNER JOINì—ì„œëŠ” <br />
ê°™ì€ ê°’ë§Œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— 4ë²ˆì˜ í–‰ì„ ê°€ì ¸ì˜¤ì§€ ì•Šì€ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<h4 id="3-right-join">3. RIGHT JOIN</h4>

<p><img src="https://user-images.githubusercontent.com/95069395/230900188-d3e84cae-6bbd-46a1-a303-7c4506a2df73.png" alt="image" class="align-left" style="max-width: 60%" /></p>

<p>RIGHT JOINì€ ì‚¬ì‹¤ìƒ LEFT JOINì˜ ë°˜ëŒ€ ê°œë…ì´ê¸° ë–„ë¬¸ì— ì´í•´í•˜ê¸°ê°€ ì‰½ë‹¤.</p>

<pre><code class="language-roomsql">SELECT * 
FROM member m
RIGHT JOIN posts p
ON m.id = p.id;
</code></pre>

<p><img src="https://user-images.githubusercontent.com/95069395/230904125-cc4cc4da-499d-49ca-aee2-90de90f2a20d.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>memberë¥¼ Aë¡œ ë‘ê³  RIGHT JOINì„ ì‹œì¼°ì„ë•Œ ìœ„ì™€ ê°™ì´ <br />
4ë²ˆì§¸í–‰ì˜ ë°ì´í„°ê°€ ì—†ê¸° ë•Œë¬¸ì— nullë¡œ í‘œí˜„ë˜ê³  postsì˜ ë°ì´í„°ë¥¼ <br />
ì „ë¶€ ê°€ì ¸ì˜¨ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<h4 id="4-í•©ì§‘í•©-join-full-join">4. í•©ì§‘í•© JOIN (FULL JOIN)</h4>

<p><img src="https://user-images.githubusercontent.com/95069395/230905128-d3585cfb-d792-443e-8822-283eb6da9547.png" alt="image" class="align-left" style="max-width: 60%" /></p>

<p>FULL OUTER JOINì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤. MySQLì—ì„œëŠ” í•´ë‹¹ ì¡°ì¸ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. <br />
ëŒ€ì‹œ LEFT,RIGHT JOINê³¼ UNIONì„ ì´ìš©í•´ FULL JOINì²˜ëŸ¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.   <br />
(UNIONì€ ì—¬ëŸ¬ í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” ê°™ì€ ì„±ê²©ì˜ ê°’ì„ í•œë²ˆì˜ ì¿¼ë¦¬ë¡œ ì¶œë ¥í•˜ë„ë¡ ë•ëŠ” ì—°ì‚°ìì´ë‹¤.)</p>

<pre><code class="language-roomsql">SELECT * 
FROM member 
LEFT JOIN posts ON member.id = posts.id
UNION
SELECT * 
FROM member
RIGHT JOIN posts ON member.id = posts.id;
</code></pre>

<p><img src="https://user-images.githubusercontent.com/95069395/230906403-88cb0235-7570-4e22-84c7-907cf101b0d6.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>ìµœì¢…ì ìœ¼ë¡œ ì¶œë ¥í•´ë³´ë©´ ëª¨ë“  í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<h4 id="5-ì°¨ì§‘í•©-join">5. ì°¨ì§‘í•© JOIN</h4>

<p><img src="https://user-images.githubusercontent.com/95069395/230905008-e3ca460b-bb24-4077-8a0c-5667dee6a097.png" alt="image" class="align-left" style="max-width: 60%" /></p>

<p>ì°¨ì§‘í•©ì„ êµ¬í•˜ëŠ” LEFT, RIGHT JOINì´ ìˆë‹¤.  <br />
ì‚¬ì‹¤ LEFT, RIGHT JOINì˜ ê°œë…ë§Œ ì•Œê³  ìˆìœ¼ë©´ ìœ ì¶”ê°€ ê°€ëŠ¥í•œ <br />
ë¶€ë¶„ì´ë¯€ë¡œ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ê³  ë„˜ì–´ê°€ê² ë‹¤.</p>

<pre><code class="language-roomsql">SELECT * 
FROM posts p
LEFT JOIN member m
ON m.id = p.id WHERE m.id IS NULL;
</code></pre>

<p><img src="https://user-images.githubusercontent.com/95069395/230905244-6dc18827-fcde-49b1-b373-9f99c0a79c01.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>í˜„ì¬ ì°¨ì§‘í•©ì„ í…ŒìŠ¤íŠ¸í•´ë³´ë ¤ë©´ ìˆ˜ëŸ‰ì´ ë§ì€ posts í…Œì´ë¸”ì„ Aë¡œ ë‘ì–´ì•¼í–ˆë‹¤.<br />
ë”°ë¼ì„œ member í…Œì´ë¸”ì„ Bë¡œ ë‘ì—ˆë‹¤.   <br />
LEFT JOINì—ì„œ ì¶”ê°€ëœ ì½”ë“œëŠ” <code class="language-plaintext highlighter-rouge">m.id IS NULL</code>ë§Œ ì¶”ê°€ë˜ì—ˆë‹¤.<br />
member í…Œì´ë¸”ì˜ idê°€ nullì¸ ê°’ë“¤ë§Œ ê°€ì ¸ì˜¤ê²Œí•˜ëŠ” êµ¬ë¬¸ì´ë‹¤. <br />
ë§ì€ ì¦‰ìŠ¨, Aë§Œ ê°€ì§€ê³  ìˆëŠ” ê°’ë§Œ í‘œì‹œí•˜ê² ë‹¤ë¼ëŠ” ì˜ë¯¸ì™€ ë™ì¼í•˜ê³  ê·¸ë˜ì„œ ì¶œë ¥ì´ 4ë²ˆë§Œ ë‚˜ì˜¨ ê²ƒì´ë‹¤.</p>

<p><br /></p>

<h3 id="join-ì›ë¦¬">JOIN ì›ë¦¬</h3>

<h4 id="1-ì¤‘ì²©-ë£¨í”„-ì¡°ì¸">1. ì¤‘ì²© ë£¨í”„ ì¡°ì¸</h4>

<p>Nested Loop Joinì´ë¼ê³  ë¶€ë¥´ë©°<br />
ì¤‘ì²© ë£¨í”„ ì¡°ì¸ì€ ì¤‘ì²© forë¬¸ê³¼ ê°™ì€ ì›ë¦¬ë¡œ ì¡°ê±´ì— ë§ëŠ” ì¡°ì¸ì„ í•˜ëŠ” ë°©ë²•ì´ë‹¤. <br />
ëœë¤ ì ‘ê·¼ì— ëŒ€í•œ ë¹„ìš©ì´ ë§ì´ ì¦ê°€í•˜ë¯€ë¡œ ëŒ€ìš©ëŸ‰ì˜ í…Œì´ë¸”ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<p>JOINì„ í•  ë•Œ ë¨¼ì € ì•¡ì„¸ìŠ¤ ë˜ì–´ ACCESS PATHë¥¼ ì£¼ë„í•˜ëŠ” í…Œì´ë¸”ì„ Driving Tableì´ë¼ê³  í•˜ê³  <br />
ë‚˜ì¤‘ì— ì—‘ì„¸ìŠ¤ ë˜ëŠ” í…Œì´ë¸”ì„ Driven Table ì´ë¼ê³  í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> for(i=0; i&lt;dept.length; i++) { -- driving table 
    for(j=0; j&lt;emp.length; j++) { -- driven table
       // Search
    } 
}
</code></pre></div></div>

<p><br /></p>

<h4 id="2-ì •ë ¬-ë³‘í•©-ì¡°ì¸">2. ì •ë ¬ ë³‘í•© ì¡°ì¸</h4>

<p>Sort Merge Joinì´ë¼ê³  ë¶€ë¥´ë©° <br />
ì¡°íšŒì˜ ë²”ìœ„ê°€ ë§ì„ ë•Œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì¡°ì¸ ë°©ë²•ë¡ ì´ë‹¤. <br />
ì–‘ìª½ í…Œì´ë¸”ì„ ê°ê° Access í•˜ì—¬ ê·¸ ê²°ê³¼ë¥¼ ì •ë ¬í•˜ê³  ê·¸ ì •ë ¬í•œ ê²°ê³¼ë¥¼ ì°¨ë¡€ë¡œ <br />
Scan í•´ ë‚˜ê°€ë©´ì„œ ì—°ê²°ê³ ë¦¬ì˜ ì¡°ê±´ìœ¼ë¡œ Mergeë¥¼ í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì£¼ë¡œ ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ ì—†ê±°ë‚˜ <br />
ì¶œë ¥í•´ì•¼í•  ê²°ê³¼ ê°’ì´ ë§ì„ ë•Œ ì‚¬ìš©í•œë‹¤. ì¤‘ì²© ë£¨í”„ ì¡°ì¸ì˜ ì¡°ì¸ ë°©ì‹ê³¼ ì¥ë‹¨ì ì´ ì„œë¡œ ë°”ë€Œì—ˆë‹¤ê³  <br />
ìƒê°í•˜ë©´ ì´í•´í•˜ê¸°ê°€ ì‰½ë‹¤.</p>

<p><br /></p>

<h4 id="3-í•´ì‰¬-ì¡°ì¸">3. í•´ì‰¬ ì¡°ì¸</h4>

<p>Hash Joinì€ ë‘ í…Œì´ë¸” ì¤‘ í•˜ë‚˜ë¥¼ í•´ì‹œ í…Œì´ë¸”ë¡œ ì„ ì •í•˜ì—¬ ì¡°ì¸ë  í…Œì´ë¸”ì˜ <br />
ì¡°ì¸ í‚¤ ê°’ì„ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ë§¤ì¹˜ë˜ëŠ” ê²°ê³¼ê°’ì„ ì–»ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. <br />
ì£¼ë¡œ ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì¡°ì¸í•´ì•¼ í•˜ëŠ” ê²½ìš° ì£¼ë¡œ ì‚¬ìš©í•˜ê³     <br />
JOIN ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì—†ì–´ ì¤‘ì²© ë£¨í”„ ì¡°ì¸ì´ ë¹„íš¨ìœ¨ì ì¼ ë–„ ì‚¬ìš©í•œë‹¤.</p>

<p><img src="" alt="image" class="align-left" style="max-width: 100%" /></p>

<p><br /><br />
<br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="DB" /><category term="DB" /><summary type="html"><![CDATA[Join ì´ë€?]]></summary></entry><entry><title type="html">[Programmers] ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸° (MySQL)</title><link href="http://localhost:4000/sql/2023/04/10/sql-productcode.html" rel="alternate" type="text/html" title="[Programmers] ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸° (MySQL)" /><published>2023-04-10T00:00:00+09:00</published><updated>2023-04-10T00:00:00+09:00</updated><id>http://localhost:4000/sql/2023/04/10/sql-productcode</id><content type="html" xml:base="http://localhost:4000/sql/2023/04/10/sql-productcode.html"><![CDATA[<h2 id="-ë¬¸ì œ--ì¹´í…Œê³ ë¦¬-ë³„-ìƒí’ˆ-ê°œìˆ˜-êµ¬í•˜ê¸°">ğŸ“Œ ë¬¸ì œ : <a href="https://school.programmers.co.kr/learn/courses/30/lessons/131529">ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸°</a></h2>

<h3 id="-ë¬¸ì œ-ì„¤ëª…">ğŸ“– ë¬¸ì œ ì„¤ëª…</h3>

<p>ë‹¤ìŒì€ ì–´ëŠ ì˜ë¥˜ ì‡¼í•‘ëª°ì—ì„œ íŒë§¤ì¤‘ì¸ ìƒí’ˆë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ <code>PRODUCT</code> í…Œì´ë¸”ì…ë‹ˆë‹¤. <code>PRODUCT</code> í…Œì´ë¸”ì€ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ìˆìœ¼ë©°, <code>PRODUCT_ID</code>, <code>PRODUCT_CODE</code>, <code>PRICE</code>ëŠ” ê°ê° ìƒí’ˆ ID, ìƒí’ˆì½”ë“œ, íŒë§¤ê°€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>Column name</th>
<th>Type</th>
<th>Nullable</th>
</tr>
</thead>
        <tbody><tr>
<td>PRODUCT_ID</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
<tr>
<td>PRODUCT_CODE</td>
<td>VARCHAR(8)</td>
<td>FALSE</td>
</tr>
<tr>
<td>PRICE</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
</tbody>
      </table>
<p>ìƒí’ˆ ë³„ë¡œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” 8ìë¦¬ ìƒí’ˆì½”ë“œ ê°’ì„ ê°€ì§€ë©°, ì• 2ìë¦¬ëŠ” ì¹´í…Œê³ ë¦¬ ì½”ë“œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>

<hr />

<h5>ë¬¸ì œ</h5>

<p><code>PRODUCT</code> í…Œì´ë¸”ì—ì„œ ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ì½”ë“œ(<code>PRODUCT_CODE</code> ì• 2ìë¦¬) ë³„ ìƒí’ˆ ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.</p>

<hr />

<h5>ì˜ˆì‹œ</h5>

<p>ì˜ˆë¥¼ ë“¤ì–´ <code>PRODUCT</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´</p>
<table class="table">
        <thead><tr>
<th>PRODUCT_ID</th>
<th>PRODUCT_CODE</th>
<th>PRICE</th>
</tr>
</thead>
        <tbody><tr>
<td>1</td>
<td>A1000011</td>
<td>10000</td>
</tr>
<tr>
<td>2</td>
<td>A1000045</td>
<td>9000</td>
</tr>
<tr>
<td>3</td>
<td>C3000002</td>
<td>22000</td>
</tr>
<tr>
<td>4</td>
<td>C3000006</td>
<td>15000</td>
</tr>
<tr>
<td>5</td>
<td>C3000010</td>
<td>30000</td>
</tr>
<tr>
<td>6</td>
<td>K1000023</td>
<td>17000</td>
</tr>
</tbody>
      </table>
<p>ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ì½”ë“œ ë³„ ìƒí’ˆì€ ì•„ë˜ì™€ ê°™ìœ¼ë¯€ë¡œ,</p>

<ul>
<li><code>A1</code>: <code>PRODUCT_ID</code>ê°€ 1, 2 ì¸ ìƒí’ˆ</li>
<li><code>C3</code>: <code>PRODUCT_ID</code>ê°€ 3, 4, 5 ì¸ ìƒí’ˆ</li>
<li><code>K1</code>: <code>PRODUCT_ID</code>ê°€ 6 ì¸ ìƒí’ˆ</li>
</ul>

<p>ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>CATEGORY</th>
<th>PRODUCTS</th>
</tr>
</thead>
        <tbody><tr>
<td>A1</td>
<td>2</td>
</tr>
<tr>
<td>C3</td>
<td>3</td>
</tr>
<tr>
<td>K1</td>
<td>1</td>
</tr>
</tbody>
      </table>

<blockquote>
  <p>ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges</p>
</blockquote>

<hr />

<h2 id="-ë¬¸ì œ-í’€ì´">ğŸ— ë¬¸ì œ í’€ì´</h2>

<ol>
  <li>LEFTë¥¼ ì´ìš©í•´ ë¬¸ìì—´ì„ ìë¥¸ë‹¤.</li>
  <li>COUNTë¥¼ ì´ìš©í•´ ìë¥¸ PRODUCT_CODEë¥¼ ì§‘ê³„í•œë‹¤.</li>
</ol>

<pre><code class="language-roomsql">SELECT LEFT(PRODUCT_CODE,2) AS CATEGORY,
    COUNT(PRODUCT_CODE) AS PRODUCTS
FROM PRODUCT
GROUP BY CATEGORY
ORDER BY CATEGORY ASC;
</code></pre>

<p>ì—¬ê¸°ì„œ ì•Œì•„ì•¼í•  ë¬¸ë²•ì€ LEFT ë¬¸ë²•ì´ë‹¤. <br />
ìœ ì‚¬ ë¬¸ë²•ìœ¼ë¡œëŠ” RIGHT, SUBSTRING ë“±ì´ ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ì</p>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="SQL" /><category term="SQL" /><category term="Programmers" /><summary type="html"><![CDATA[ğŸ“Œ ë¬¸ì œ : ì¹´í…Œê³ ë¦¬ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸°]]></summary></entry><entry><title type="html">[Programmers] ê°€ê²©ëŒ€ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸° (MySQL)</title><link href="http://localhost:4000/sql/2023/04/09/sql-priceproduct.html" rel="alternate" type="text/html" title="[Programmers] ê°€ê²©ëŒ€ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸° (MySQL)" /><published>2023-04-09T00:00:00+09:00</published><updated>2023-04-09T00:00:00+09:00</updated><id>http://localhost:4000/sql/2023/04/09/sql-priceproduct</id><content type="html" xml:base="http://localhost:4000/sql/2023/04/09/sql-priceproduct.html"><![CDATA[<h2 id="-ë¬¸ì œ--ê°€ê²©ëŒ€-ë³„-ìƒí’ˆ-ê°œìˆ˜-êµ¬í•˜ê¸°">ğŸ“Œ ë¬¸ì œ : <a href="https://school.programmers.co.kr/learn/courses/30/lessons/131530">ê°€ê²©ëŒ€ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸°</a></h2>

<h3 id="-ë¬¸ì œ-ì„¤ëª…">ğŸ“– ë¬¸ì œ ì„¤ëª…</h3>

<p>ë‹¤ìŒì€ ì–´ëŠ ì˜ë¥˜ ì‡¼í•‘ëª°ì—ì„œ íŒë§¤ì¤‘ì¸ ìƒí’ˆë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ <code>PRODUCT</code> í…Œì´ë¸”ì…ë‹ˆë‹¤. <code>PRODUCT</code> í…Œì´ë¸”ì€ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ìˆìœ¼ë©°, <code>PRODUCT_ID</code>, <code>PRODUCT_CODE</code>, <code>PRICE</code>ëŠ” ê°ê° ìƒí’ˆ ID, ìƒí’ˆì½”ë“œ, íŒë§¤ê°€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>Column name</th>
<th>Type</th>
<th>Nullable</th>
</tr>
</thead>
        <tbody><tr>
<td>PRODUCT_ID</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
<tr>
<td>PRODUCT_CODE</td>
<td>VARCHAR(8)</td>
<td>FALSE</td>
</tr>
<tr>
<td>PRICE</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
</tbody>
      </table>
<p>ìƒí’ˆ ë³„ë¡œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” 8ìë¦¬ ìƒí’ˆì½”ë“œ ê°’ì„ ê°€ì§€ë©° ì• 2ìë¦¬ëŠ” ì¹´í…Œê³ ë¦¬ ì½”ë“œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>

<hr />

<h5>ë¬¸ì œ</h5>

<p><code>PRODUCT</code> í…Œì´ë¸”ì—ì„œ ë§Œì› ë‹¨ìœ„ì˜ ê°€ê²©ëŒ€ ë³„ë¡œ ìƒí’ˆ ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ì»¬ëŸ¼ëª…ì€ ê°ê° ì»¬ëŸ¼ëª…ì€ PRICE_GROUP, PRODUCTSë¡œ ì§€ì •í•´ì£¼ì‹œê³  ê°€ê²©ëŒ€ ì •ë³´ëŠ” ê° êµ¬ê°„ì˜ ìµœì†Œê¸ˆì•¡(10,000ì› ì´ìƒ ~ 20,000 ë¯¸ë§Œì¸ êµ¬ê°„ì¸ ê²½ìš° 10,000)ìœ¼ë¡œ í‘œì‹œí•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ê°€ê²©ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.</p>

<hr />

<h5>ì˜ˆì‹œ</h5>

<p>ì˜ˆë¥¼ ë“¤ì–´ <code>PRODUCT</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´</p>
<table class="table">
        <thead><tr>
<th>PRODUCT_ID</th>
<th>PRODUCT_CODE</th>
<th>PRICE</th>
</tr>
</thead>
        <tbody><tr>
<td>1</td>
<td>A1000011</td>
<td>10000</td>
</tr>
<tr>
<td>2</td>
<td>A1000045</td>
<td>9000</td>
</tr>
<tr>
<td>3</td>
<td>C3000002</td>
<td>22000</td>
</tr>
<tr>
<td>4</td>
<td>C3000006</td>
<td>15000</td>
</tr>
<tr>
<td>5</td>
<td>C3000010</td>
<td>30000</td>
</tr>
<tr>
<td>6</td>
<td>K1000023</td>
<td>17000</td>
</tr>
</tbody>
      </table>
<p>ë§Œì› ë‹¨ìœ„ì˜ ê°€ê²©ëŒ€ ë³„ë¡œ ìƒí’ˆì„ ë‚˜ëˆ„ë©´</p>

<ul>
<li>ê°€ê²©ëŒ€ê°€ 0ì› ~ 1ë§Œì› ë¯¸ë§Œì¸ ìƒí’ˆì€ <code>PRODUCT_ID</code> ê°€ 2ì¸ ìƒí’ˆ 1ê°œ,</li>
<li>ê°€ê²©ëŒ€ê°€ 1ë§Œì› ì´ìƒ ~ 2ë§Œì› ë¯¸ë§Œì¸ ìƒí’ˆë“¤ì€ <code>PRODUCT_ID</code> ê°€ 1, 4, 6ì¸ ìƒí’ˆ 3ê°œ,</li>
<li>ê°€ê²©ëŒ€ê°€ 2ë§Œì› ì´ìƒ ~ 3ë§Œì› ë¯¸ë§Œì¸ ìƒí’ˆì€ <code>PRODUCT_ID</code> ê°€ 3ì¸ ìƒí’ˆ 1ê°œ,</li>
<li>ê°€ê²©ëŒ€ê°€ 3ë§Œì› ì´ìƒ ~ 4ë§Œì› ë¯¸ë§Œì¸ ìƒí’ˆì€ <code>PRODUCT_ID</code> ê°€ 5ì¸ ìƒí’ˆ 1ê°œ,</li>
</ul>

<p>ì— ê°ê° í•´ë‹¹í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>PRICE_GROUP</th>
<th>PRODUCTS</th>
</tr>
</thead>
        <tbody><tr>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>10000</td>
<td>3</td>
</tr>
<tr>
<td>20000</td>
<td>1</td>
</tr>
<tr>
<td>30000</td>
<td>1</td>
</tr>
</tbody>
      </table>

<blockquote>
  <p>ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges</p>
</blockquote>

<hr />

<h2 id="-ë¬¸ì œ-í’€ì´">ğŸ— ë¬¸ì œ í’€ì´</h2>

<ol>
  <li>CASE WHENì„ ì´ìš©í•˜ì—¬ ê°€ê²©ë³„ ì§‘ê³„ë¥¼ í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì¤€ë‹¤.</li>
  <li>PRICEì˜ ìˆ˜ëŸ‰ì„ PRODUCTS ì»¬ëŸ¼ìœ¼ë¡œ ë¬¶ì–´ì¤€ë‹¤.</li>
  <li>GROUP BYë¥¼ ì´ìš©í•´ ì§‘ê³„ë¥¼ í•œë‹¤.</li>
  <li>PRICE_GROUP ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.</li>
</ol>

<pre><code class="language-RoomSql">SELECT CASE 
WHEN PRICE BETWEEN 0 AND 9999 THEN 0
WHEN PRICE BETWEEN 10000 AND 19999 THEN 10000
WHEN PRICE BETWEEN 20000 AND 29999 THEN 20000
WHEN PRICE BETWEEN 30000 AND 39999 THEN 30000
WHEN PRICE BETWEEN 40000 AND 49999 THEN 40000
WHEN PRICE BETWEEN 50000 AND 59999 THEN 50000
WHEN PRICE BETWEEN 60000 AND 69999 THEN 60000
WHEN PRICE BETWEEN 70000 AND 79999 THEN 70000
WHEN PRICE BETWEEN 80000 AND 89999 THEN 80000
END AS PRICE_GROUP, 
COUNT(PRICE) AS PRODUCTS
FROM PRODUCT
GROUP BY PRICE_GROUP
ORDER BY PRICE_GROUP ASC;
</code></pre>

<p>ë¬¸ì œì—ì„œëŠ” 0~4ë§Œì›ê¹Œì§€ ë°–ì— ì—†ì–´ì„œ 4ë§Œì›ê¹Œì§€ í’€ì´í–ˆë‹¤ê°€ ì™œ ì•ˆí’€ë¦¬ì§€ í•˜ê³  í—·ê°ˆë ¸ë‹¤.. <br />
<code class="language-plaintext highlighter-rouge">SELECT * FROM PRODUCT</code> ë¥¼ í•´ë³´ë‹ˆ 9ë§Œì›ê¹Œì§€ ë‚˜ì™€ì„œ 9ë§Œì›ê¹Œì§€ ì§‘ê³„í•˜ì˜€ë‹¤.</p>

<p><br /></p>

<p>ë˜ ë‹¤ë¥¸ í’€ì´ ë°©ë²•ìœ¼ë¡œëŠ”</p>

<pre><code class="language-roomsql">SELECT  FLOOR(PRICE/10000)*10000 AS PRICE_GROUP,
        COUNT(*) AS PRODUCTS
  FROM  product
 GROUP 
    BY  PRICE_GROUP
 ORDER
    BY  PRICE_GROUP ASC
</code></pre>
<p>ê³¼ ê°™ì´ ì†Œìˆ˜ì ì„ ì œê±°í•˜ëŠ” í•¨ìˆ˜ì¸ <code class="language-plaintext highlighter-rouge">FLOOR</code>ë¥¼ ì´ìš©í•œ í’€ì´ë¥¼ í•  ìˆ˜ ìˆë‹¤.    <br />
ê°€ê²©ì„ ë§Œì› ë‹¨ìœ„ë¡œ ë‚˜ëˆ ì„œ ì†Œìˆ˜ì ì„ ë²„ë¦¬ê³  ë§Œì›ì”© ê³±í•´ì£¼ë©´  <br />
CASE ë¬¸ë²•ë³´ë‹¤ í›¨ì”¬ ê¹”ë”í•˜ê²Œ í’€ì´ê°€ ê°€ëŠ¥í•˜ë‹¤.</p>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="SQL" /><category term="SQL" /><category term="Programmers" /><summary type="html"><![CDATA[ğŸ“Œ ë¬¸ì œ : ê°€ê²©ëŒ€ ë³„ ìƒí’ˆ ê°œìˆ˜ êµ¬í•˜ê¸°]]></summary></entry><entry><title type="html">MySQL Foreign key ì„¤ì •í•˜ê¸°</title><link href="http://localhost:4000/db/2023/04/07/db-mysqlforeign.html" rel="alternate" type="text/html" title="MySQL Foreign key ì„¤ì •í•˜ê¸°" /><published>2023-04-07T00:00:00+09:00</published><updated>2023-04-07T00:00:00+09:00</updated><id>http://localhost:4000/db/2023/04/07/db-mysqlforeign</id><content type="html" xml:base="http://localhost:4000/db/2023/04/07/db-mysqlforeign.html"><![CDATA[<p>MySQL Foreign Keyë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ì ì–´ë³´ë ¤í•œë‹¤. <br />
ê°„ë‹¨í•˜ê²Œ ì•„ë˜ì™€ ê°™ì€ í…Œì´ë¸”ì„ ì¤€ë¹„í–ˆë‹¤.</p>

<p>ìŠ¤í‚¤ë§ˆ ì´ë¦„ì€ sqlpracticeë¡œ ì„¤ì •í•˜ì˜€ë‹¤.</p>

<p><img src="https://user-images.githubusercontent.com/95069395/230547251-d9b554a7-85a0-4430-9aa2-5b1f4548b431.png" alt="image" class="align-left" style="max-width: 100%" /></p>

<p>SQLë¬¸ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ í…Œì´ë¸”ì´ ìƒì„±ë˜ê³ </p>

<pre><code class="language-roomsql">CREATE TABLE sqlpractice.posts (
    id BIGINT NOT NULL PRIMARY KEY,
    title VARCHAR(255) NOT NULL
);

CREATE TABLE sqlpractice.tag (
    id BIGINT NOT NULL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    type VARCHAR(255) NOT NULL
);

CREATE TABLE sqlpractice.posts_tag (
    id BIGINT NOT NULL PRIMARY KEY,
    posts_id BIGINT NOT NULL,
    tag_id BIGINT NOT NULL
);
</code></pre>

<p><br /></p>

<p>FOREIGN KEYë¥¼ ì„¤ì •í•˜ê¸°ì „ì— ê´€ê³„ë¥¼ ì‚´í´ë³´ì</p>

<p>1 : N : 1 ê´€ê³„ì˜ í…Œì´ë¸”ì´ê³  <br />
POSTS_TAGê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë©° POSTSì˜ PKë¥¼ FKë¡œ ê°€ì§€ê³  ìˆê³  <br />
TAGì˜ PKë¥¼ FKë¡œ ê°€ì§€ê³  ìˆëŠ” ìƒíƒœì´ë‹¤.</p>

<p>FOREIGN KEY ì„¤ì • ë¬¸ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤</p>
<pre><code class="language-roomsql">ALTER TABLE í…Œì´ë¸”ëª… ADD 
FOREIGN KEY (ì»¬ëŸ¼ëª…) REFERENCES ëŒ€ìƒ í…Œì´ë¸”ëª… (ì»¬ëŸ¼ëª…);
</code></pre>

<p><br /></p>

<p>ìœ„ì˜ ê´€ê³„ë„ì²˜ëŸ¼ POSTS_TAG í…Œì´ë¸”ì— FOREIGN KEYë¥¼ ì„¤ì •í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•˜ë©´ëœë‹¤.</p>

<pre><code class="language-roomsql">ALTER TABLE sqlpractice.posts_tag ADD 
FOREIGN KEY (posts_id) REFERENCES sqlpractice.posts(id);

ALTER TABLE sqlpractice.posts_tag ADD 
FOREIGN KEY (tag_id) REFERENCES sqlpractice.tag(id);
</code></pre>

<p><br />
<br />
<br />
<br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="DB" /><category term="DB" /><category term="MySQL" /><summary type="html"><![CDATA[MySQL Foreign Keyë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ì ì–´ë³´ë ¤í•œë‹¤. ê°„ë‹¨í•˜ê²Œ ì•„ë˜ì™€ ê°™ì€ í…Œì´ë¸”ì„ ì¤€ë¹„í–ˆë‹¤.]]></summary></entry><entry><title type="html">[Programmers] ì¬êµ¬ë§¤ê°€ ì¼ì–´ë‚œ ìƒí’ˆê³¼ íšŒì› ë¦¬ìŠ¤íŠ¸ êµ¬í•˜ê¸° (MySQL)</title><link href="http://localhost:4000/sql/2023/04/07/sql-duplicationproduct.html" rel="alternate" type="text/html" title="[Programmers] ì¬êµ¬ë§¤ê°€ ì¼ì–´ë‚œ ìƒí’ˆê³¼ íšŒì› ë¦¬ìŠ¤íŠ¸ êµ¬í•˜ê¸° (MySQL)" /><published>2023-04-07T00:00:00+09:00</published><updated>2023-04-07T00:00:00+09:00</updated><id>http://localhost:4000/sql/2023/04/07/sql-duplicationproduct</id><content type="html" xml:base="http://localhost:4000/sql/2023/04/07/sql-duplicationproduct.html"><![CDATA[<h2 id="-ë¬¸ì œ--ì¬êµ¬ë§¤ê°€-ì¼ì–´ë‚œ-ìƒí’ˆê³¼-íšŒì›-ë¦¬ìŠ¤íŠ¸-êµ¬í•˜ê¸°">ğŸ“Œ ë¬¸ì œ : <a href="https://school.programmers.co.kr/learn/courses/30/lessons/131536">ì¬êµ¬ë§¤ê°€ ì¼ì–´ë‚œ ìƒí’ˆê³¼ íšŒì› ë¦¬ìŠ¤íŠ¸ êµ¬í•˜ê¸°</a></h2>

<h3 id="-ë¬¸ì œ-ì„¤ëª…">ğŸ“– ë¬¸ì œ ì„¤ëª…</h3>

<p>ë‹¤ìŒì€ ì–´ëŠ ì˜ë¥˜ ì‡¼í•‘ëª°ì˜ ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ì •ë³´ë¥¼ ë‹´ì€ <code>ONLINE_SALE</code> í…Œì´ë¸” ì…ë‹ˆë‹¤. <code>ONLINE_SALE</code> í…Œì´ë¸”ì€ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ìˆìœ¼ë©° <code>ONLINE_SALE_ID</code>, <code>USER_ID</code>, <code>PRODUCT_ID</code>, <code>SALES_AMOUNT</code>, <code>SALES_DATE</code>ëŠ” ê°ê° ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ID, íšŒì› ID, ìƒí’ˆ ID, íŒë§¤ëŸ‰, íŒë§¤ì¼ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>Column name</th>
<th>Type</th>
<th>Nullable</th>
</tr>
</thead>
        <tbody><tr>
<td>ONLINE_SALE_ID</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
<tr>
<td>USER_ID</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
<tr>
<td>PRODUCT_ID</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
<tr>
<td>SALES_AMOUNT</td>
<td>INTEGER</td>
<td>FALSE</td>
</tr>
<tr>
<td>SALES_DATE</td>
<td>DATE</td>
<td>FALSE</td>
</tr>
</tbody>
      </table>
<p>ë™ì¼í•œ ë‚ ì§œ, íšŒì› ID, ìƒí’ˆ ID ì¡°í•©ì— ëŒ€í•´ì„œëŠ” í•˜ë‚˜ì˜ íŒë§¤ ë°ì´í„°ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.</p>

<hr />

<h5>ë¬¸ì œ</h5>

<p><code>ONLINE_SALE</code> í…Œì´ë¸”ì—ì„œ ë™ì¼í•œ íšŒì›ì´ ë™ì¼í•œ ìƒí’ˆì„ ì¬êµ¬ë§¤í•œ ë°ì´í„°ë¥¼ êµ¬í•˜ì—¬, ì¬êµ¬ë§¤í•œ íšŒì› IDì™€ ì¬êµ¬ë§¤í•œ ìƒí’ˆ IDë¥¼ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” íšŒì› IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì‹œê³  íšŒì› IDê°€ ê°™ë‹¤ë©´ ìƒí’ˆ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.</p>

<hr />

<h5>ì˜ˆì‹œ</h5>

<p>ì˜ˆë¥¼ ë“¤ì–´ <code>ONLINE_SALE</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´</p>
<table class="table">
        <thead><tr>
<th>ONLINE_SALE_ID</th>
<th>USER_ID</th>
<th>PRODUCT_ID</th>
<th>SALES_AMOUNT</th>
<th>SALES_DATE</th>
</tr>
</thead>
        <tbody><tr>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
<td>2022-02-25</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>4</td>
<td>1</td>
<td>2022-03-01</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>4</td>
<td>2</td>
<td>2022-03-12</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>3</td>
<td>3</td>
<td>2022-03-31</td>
</tr>
<tr>
<td>5</td>
<td>3</td>
<td>5</td>
<td>1</td>
<td>2022-04-03</td>
</tr>
<tr>
<td>6</td>
<td>2</td>
<td>4</td>
<td>1</td>
<td>2022-04-06</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>2022-05-11</td>
</tr>
</tbody>
      </table>
<p><code>USER_ID</code> ê°€ 1ì¸ ìœ ì €ê°€ <code>PRODUCT_ID</code> ê°€ 3, 4ì¸ ìƒí’ˆë“¤ì„ ì¬êµ¬ë§¤í•˜ê³ , <code>USER_ID</code> ê°€ 2ì¸ ìœ ì €ê°€ <code>PRODUCT_ID</code> ê°€ 4ì¸ ìƒí’ˆì„ ì¬êµ¬ë§¤ í•˜ì˜€ìœ¼ë¯€ë¡œ, ë‹¤ìŒê³¼ ê°™ì´ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼í•©ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>USER_ID</th>
<th>PRODUCT_ID</th>
</tr>
</thead>
        <tbody><tr>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
</tr>
</tbody>
      </table>

<blockquote>
  <p>ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges</p>
</blockquote>

<hr />

<h2 id="-ë¬¸ì œ-í’€ì´">ğŸ— ë¬¸ì œ í’€ì´</h2>

<ol>
  <li>ONLINE_SALE í…Œì´ë¸”ì—ì„œ USER_ID, PRODUCT_IDë¥¼ ê°€ì ¸ì˜¨ë‹¤.</li>
  <li>USER_ID, PRODUCT_IDë¥¼ GROUP BYí•˜ì—¬ HAVINGì ˆë¡œ 2ì´ìƒì¸ ê°’(ì¬êµ¬ë§¤í•œ ê°’)ì„ ì°¾ê¸°</li>
  <li>USER_ID ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ í›„ ê°™ì„ ê²½ìš° PRODUCT_ID ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬</li>
</ol>

<pre><code class="language-RoomSql">SELECT USER_ID,
    PRODUCT_ID
FROM ONLINE_SALE
GROUP BY USER_ID, PRODUCT_ID
HAVING COUNT(PRODUCT_ID) &gt;= 2
ORDER BY USER_ID ASC, PRODUCT_ID DESC;
</code></pre>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="SQL" /><category term="SQL" /><category term="Programmers" /><summary type="html"><![CDATA[ğŸ“Œ ë¬¸ì œ : ì¬êµ¬ë§¤ê°€ ì¼ì–´ë‚œ ìƒí’ˆê³¼ íšŒì› ë¦¬ìŠ¤íŠ¸ êµ¬í•˜ê¸°]]></summary></entry><entry><title type="html">[Spring] QueryDSL DTO ì¡°íšŒ ë°©ë²•</title><link href="http://localhost:4000/spring/2023/04/07/spring-querydsladvance.html" rel="alternate" type="text/html" title="[Spring] QueryDSL DTO ì¡°íšŒ ë°©ë²•" /><published>2023-04-07T00:00:00+09:00</published><updated>2023-04-07T00:00:00+09:00</updated><id>http://localhost:4000/spring/2023/04/07/spring-querydsladvance</id><content type="html" xml:base="http://localhost:4000/spring/2023/04/07/spring-querydsladvance.html"><![CDATA[<h2 id="querydsl">QueryDSL</h2>

<h3 id="í…ŒìŠ¤íŠ¸-ì½”ë“œ">í…ŒìŠ¤íŠ¸ ì½”ë“œ</h3>

<p>ì´ì „ì— ì‘ì„±í–ˆë˜ <a href="https://mycatlikeschuru.github.io/spring/2023/04/04/spring-querydsl.html">QueryDSL ê¸°ì´ˆì„¤ì • ë° JPQLê³¼ ë¹„êµí•´ë³´ê¸°</a>ì—ì„œ <br />
ì´ì–´ì„œ ì‘ì—…ì„ ì§„í–‰í•˜ì˜€ë‹¤. í´ë˜ìŠ¤ì™€ í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” ë™ì¼í•˜ê²Œ ì‚¬ìš©í–ˆê³ </p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">QuerydslBasicTestPractice</span> <span class="o">{</span>

   <span class="nd">@Autowired</span>
   <span class="nc">EntityManager</span> <span class="n">em</span><span class="o">;</span>

   <span class="nc">JPAQueryFactory</span> <span class="n">queryFactory</span><span class="o">;</span>

   <span class="nd">@PersistenceUnit</span>
   <span class="nc">EntityManagerFactory</span> <span class="n">emf</span><span class="o">;</span>

   <span class="nd">@BeforeEach</span>
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
      <span class="n">queryFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPAQueryFactory</span><span class="o">(</span><span class="n">em</span><span class="o">);</span>
      <span class="nc">Team</span> <span class="n">teamA</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Team</span><span class="o">(</span><span class="s">"teamA"</span><span class="o">);</span>
      <span class="nc">Team</span> <span class="n">teamB</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Team</span><span class="o">(</span><span class="s">"teamB"</span><span class="o">);</span>
      <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">teamA</span><span class="o">);</span>
      <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">teamB</span><span class="o">);</span>

      <span class="nc">Member</span> <span class="n">member1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="s">"member1"</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="n">teamA</span><span class="o">);</span>
      <span class="nc">Member</span> <span class="n">member2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="s">"member2"</span><span class="o">,</span> <span class="mi">20</span><span class="o">,</span> <span class="n">teamA</span><span class="o">);</span>
      <span class="nc">Member</span> <span class="n">member3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="s">"member3"</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="n">teamB</span><span class="o">);</span>
      <span class="nc">Member</span> <span class="n">member4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">(</span><span class="s">"member4"</span><span class="o">,</span> <span class="mi">40</span><span class="o">,</span> <span class="n">teamB</span><span class="o">);</span>
      <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member1</span><span class="o">);</span>
      <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member2</span><span class="o">);</span>
      <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member3</span><span class="o">);</span>
      <span class="n">em</span><span class="o">.</span><span class="na">persist</span><span class="o">(</span><span class="n">member4</span><span class="o">);</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Team ê°ì²´ 2ê°œì™€ Member ê°ì²´ 4ê°œë¥¼ ë§Œë“¤ì–´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆë‹¤. <br />
ì•„ë˜ì˜ ì½”ë“œëŠ” ìœ„ì˜ @BeforeEachë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ ê°ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒê°í•˜ë©´ëœë‹¤.</p>

<p><br /></p>

<h3 id="dto-í´ë˜ìŠ¤-ì‘ì„±">DTO í´ë˜ìŠ¤ ì‘ì„±</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Data</span>
<span class="nd">@NoArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberDto</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MemberDto</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">username</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>DTOí´ë˜ìŠ¤ëŠ” ìœ„ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.</p>

<p><br /></p>

<h3 id="í”„ë¡œì ì…˜ê³¼-ê²°ê³¼-ë°˜í™˜---dto-ì¡°íšŒ">í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ ë°˜í™˜ - DTO ì¡°íšŒ</h3>

<h4 id="jpqlì„-ì´ìš©í•œ-ë°©ë²•">JPQLì„ ì´ìš©í•œ ë°©ë²•</h4>

<p>ë¨¼ì € QueryDsl ì‚¬ìš© ì´ì „ì— ì–´ë–»ê²Œ ì‚¬ìš©í•˜ì˜€ëŠ”ì§€?<br />
ìˆœìˆ˜ JPAì—ì„œ DTOë¥¼ ì¡°íšŒí• ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">findDtoByJPQL</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MemberDto</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"select new study.querydsl.dto.MemberDto(m.username, m.age) from Member m"</span><span class="o">,</span> <span class="nc">MemberDto</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">getResultList</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">MemberDto</span> <span class="n">memberDto</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"memberDto = "</span> <span class="o">+</span> <span class="n">memberDto</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>new ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ íŒ¨í‚¤ì§€ ì´ë¦„ì„ ì ì–´ì¤˜ì•¼í•´ì„œ ì§€ì €ë¶„í•´ì§€ëŠ” ì½”ë“œê³  <br />
íŒ¨ì§€í‚¤ì´ë¦„ì„ ë§¤ë²ˆì ê¸°ì— ìƒë‹¹íˆ ë²ˆê±°ë¡­ë‹¤.</p>

<p><br /></p>

<h4 id="querydslì„-ì´ìš©í•œ-ë°©ë²•">QueryDslì„ ì´ìš©í•œ ë°©ë²•</h4>

<p>ê²°ê³¼ë¥¼ DTOë¡œ ë°˜í™˜í•  ë–„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ì´ 3ê°€ì§€ê°€ ìˆë‹¤.</p>

<ol>
  <li>í”„ë¡œí¼í‹° ì ‘ê·¼</li>
  <li>í•„ë“œ ì§ì ‘ ì ‘ê·¼</li>
  <li>ìƒì„±ì ì‚¬ìš©</li>
</ol>

<p>ì˜ˆì œë¥¼ í†µí•´ ì‚´í´ë³´ì</p>

<p><br /></p>

<p><strong>1). í”„ë¡œí¼í‹° ì ‘ê·¼ë°©ì‹</strong></p>

<p><code class="language-plaintext highlighter-rouge">getter</code>, <code class="language-plaintext highlighter-rouge">setter</code>ë¥¼ ì´ìš©í•œ ê°’ì„ ì£¼ì…í•˜ëŠ” ë°©ë²•ì´ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">findDtoBySetter</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MemberDto</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="nc">Projections</span><span class="o">.</span><span class="na">bean</span><span class="o">(</span>
                        <span class="nc">MemberDto</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">username</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">age</span><span class="o">))</span>
                <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">member</span><span class="o">)</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">MemberDto</span> <span class="n">memberDto</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"memberDto = "</span> <span class="o">+</span> <span class="n">memberDto</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
<span class="c1">// ì¶œë ¥ ë‚´ìš©</span>
<span class="n">memberDto</span> <span class="o">=</span> <span class="nc">MemberDto</span><span class="o">(</span><span class="n">username</span><span class="o">=</span><span class="n">member1</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">10</span><span class="o">)</span>
<span class="n">memberDto</span> <span class="o">=</span> <span class="nc">MemberDto</span><span class="o">(</span><span class="n">username</span><span class="o">=</span><span class="n">member2</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="o">)</span>
<span class="n">memberDto</span> <span class="o">=</span> <span class="nc">MemberDto</span><span class="o">(</span><span class="n">username</span><span class="o">=</span><span class="n">member3</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="o">)</span>
<span class="n">memberDto</span> <span class="o">=</span> <span class="nc">MemberDto</span><span class="o">(</span><span class="n">username</span><span class="o">=</span><span class="n">member4</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="o">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Projections.bean()</code>ì„ ì´ìš©í•´ Dtoíƒ€ì…ì„ ì§€ì •í•´ì£¼ê³ <br />
ì €ì¥í•  ë°ì´í„°ë¥¼ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œì ì€</p>

<p><code class="language-plaintext highlighter-rouge">getter</code>, <code class="language-plaintext highlighter-rouge">setter</code> ê°€ ìˆì–´ì•¼ ê°€ëŠ¥í•˜ë‹¤. <br />
(MemberDtoì—ëŠ” <code class="language-plaintext highlighter-rouge">@Data</code>ê°€ ìˆì–´ì„œ getter,setterë¥¼ ì‚¬ìš©í•¨)</p>

<p>ë˜í•œ ê¸°ë³¸ìƒì„±ìê°€ ì¡´ì¬í•´ì•¼ ê°€ëŠ¥í•˜ë‹¤.</p>

<p><br /></p>

<p><strong>2). í•„ë“œ ì§ì ‘ ì ‘ê·¼ë°©ì‹</strong></p>

<p>ìœ„ì˜ ì½”ë“œì™€ ë™ì¼í•˜ì§€ë§Œ <code class="language-plaintext highlighter-rouge">Projections.fields()</code>ë§Œ ë³€ê²½ ë˜ì—ˆë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">findDtoByField</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MemberDto</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="nc">Projections</span><span class="o">.</span><span class="na">fields</span><span class="o">(</span>
                        <span class="nc">MemberDto</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">username</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">age</span><span class="o">))</span>
                <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">member</span><span class="o">)</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">MemberDto</span> <span class="n">memberDto</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"memberDto = "</span> <span class="o">+</span> <span class="n">memberDto</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>
<p>1ë²ˆê³¼ì˜ ì°¨ì´ì ì€ <code class="language-plaintext highlighter-rouge">getter</code>, <code class="language-plaintext highlighter-rouge">setter</code>ê°€ ì—†ì–´ë„ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤. <br />
í•„ë“œì— ë°”ë¡œ ë°ì´í„°ë¥¼ ì‚½ì…ì„ í•´ì¤€ë‹¤. ì—¬ê¸°ì„œë„ ê¸°ë³¸ìƒì„±ìëŠ” ìˆì–´ì•¼í•œë‹¤.</p>

<p><br /></p>

<p><strong>3). ìƒì„±ì ì‚¬ìš©ë°©ì‹</strong></p>

<p>ìƒì„±ì ì‚¬ìš©ë°©ì‹ë„ ìœ„ì˜ ì½”ë“œì™€ ë™ì¼í•˜ì§€ë§Œ <code class="language-plaintext highlighter-rouge">Projections.constructor()</code>ë§Œ ë³€ê²½ ë˜ì—ˆë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">findDtoByConstructor</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MemberDto</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="nc">Projections</span><span class="o">.</span><span class="na">constructor</span><span class="o">(</span>
                        <span class="nc">MemberDto</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">username</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">age</span><span class="o">))</span>
                <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">member</span><span class="o">)</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">MemberDto</span> <span class="n">memberDto</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"memberDto = "</span> <span class="o">+</span> <span class="n">memberDto</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>ìƒì„±ìë¥¼ ì´ìš©í•˜ëŠ”ë°©ë²•ì´ <code class="language-plaintext highlighter-rouge">MemberDto</code> í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ ì´ìš©í•´ì„œ ê°’ì„ ë„£ì–´ì¤€ë‹¤. <br />
ì´ì™€ ê°™ì€ ê²½ìš°ëŠ” ê¸°ë³¸ìƒì„±ìê°€ ì—†ì–´ë„ ê°€ëŠ¥í•˜ê³ </p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kd">public</span> <span class="nf">MemberDto</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ë‚˜í˜¸ì¶œë¨"</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">username</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></div></div>
<p>ì™€ ê°™ì€ ìƒì„±ìê°€ ì¡´ì¬í•˜ëŠ”ë° ìœ„ì— ìƒì„±ìê°€ ì§ì ‘ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì—  <br />
ìƒì„±ì ì•ˆì— ì¶œë ¥ì„ ë„£ì–´ <code class="language-plaintext highlighter-rouge">System.out.println("ë‚˜í˜¸ì¶œë¨");</code> í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´</p>

<p><code class="language-plaintext highlighter-rouge">ë‚˜í˜¸ì¶œë¨</code>ì´ë¼ëŠ” ì¶œë ¥ë¬¸ì´ 4ë²ˆ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <br />
(member í…Œì´ë¸”ì— 4ê°œê°€ ìˆê¸° ë–„ë¬¸ì—)</p>

<p><br /></p>

<p><strong>â—ï¸í•„ë“œ ì ‘ê·¼ë°©ì‹ì—ì„œ Qíƒ€ì… ê°ì²´ì™€ Dtoì˜ ì´ë¦„ì´ ë‹¤ë¥¼ê²½ìš°</strong></p>

<p>ì˜ˆë¥¼ ë“¤ì–´ <code class="language-plaintext highlighter-rouge">Member</code> í´ë˜ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">ì´ë¦„ì´ = username</code> ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆê³  <br />
<code class="language-plaintext highlighter-rouge">UserDto</code>ì˜ <code class="language-plaintext highlighter-rouge">ì´ë¦„ì´ = name</code> ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Data</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDto</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">UserDto</code> í´ë˜ìŠ¤ê°€ ì´ë ‡ê²Œ ì§€ì •ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•˜ê³  <br />
2ë²ˆ ë°©ë²•ì¸ í•„ë“œ ì§ì ‘ ì ‘ê·¼ë°©ì‹ì„ ì‚¬ìš©í•´ì„œ ì‘ì„±í•´ë³´ë©´</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">findUserDtoByField</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserDto</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="nc">Projections</span><span class="o">.</span><span class="na">fields</span><span class="o">(</span>
                        <span class="nc">UserDto</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">username</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">age</span><span class="o">))</span>
                <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">member</span><span class="o">)</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">UserDto</span> <span class="n">userDto</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"userDto = "</span> <span class="o">+</span> <span class="n">userDto</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span> 
<span class="c1">// ì¶œë ¥ ë‚´ìš©  </span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="kc">null</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">10</span><span class="o">)</span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="kc">null</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="o">)</span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="kc">null</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="o">)</span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="kc">null</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="o">)</span>
</code></pre></div></div>
<p>ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ nameì€ nullë¡œ <br />
í‘œí˜„ë˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ìœ ëŠ” ê°™ì€ ì´ë¦„ì´ ë§¤ì¹­ì´ ì•ˆë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p>ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ìš°ë¦¬ëŠ” ë³„ì¹­(AS)ë¥¼ ë¶™ì—¬ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">findUserDtoByField</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserDto</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">queryFactory</span>
                <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="nc">Projections</span><span class="o">.</span><span class="na">fields</span><span class="o">(</span>
                        <span class="nc">UserDto</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">username</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">"name"</span><span class="o">),</span> <span class="c1">// &lt;- Alias ë¶™ì¸ê³³</span>
                        <span class="n">member</span><span class="o">.</span><span class="na">age</span><span class="o">))</span>
                <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">member</span><span class="o">)</span>
                <span class="o">.</span><span class="na">fetch</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">UserDto</span> <span class="n">userDto</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"userDto = "</span> <span class="o">+</span> <span class="n">userDto</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="c1">// ì¶œë ¥ ë‚´ìš© </span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="n">member1</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">10</span><span class="o">)</span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="n">member2</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="o">)</span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="n">member3</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="o">)</span>
<span class="n">userDto</span> <span class="o">=</span> <span class="nc">UserDto</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="n">member4</span><span class="o">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="o">)</span>
</code></pre></div></div>
<p>ì™€ ê°™ì´ <code class="language-plaintext highlighter-rouge">.as()</code>ë¥¼ ì´ìš©í•´ Dtoì´ë¦„ê³¼ Entityì˜ ì´ë¦„ì´ ìƒì´í•´ë„ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤.</p>

<p>ì„œë¸Œì¿¼ë¦¬ì˜ ë³„ì¹­ì„ ë¶™ì—¬ì•¼í•  ê²½ìš°ì—ëŠ”</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ExpressionUtils</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="nc">JPAExpressions</span>
        <span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="n">memberSub</span><span class="o">.</span><span class="na">age</span><span class="o">.</span><span class="na">max</span><span class="o">())</span>
        <span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">memberSub</span><span class="o">),</span> <span class="s">"age"</span><span class="o">)</span>
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">ExpressionUtils.as(ì„œë¸Œì¿¼ë¦¬, ë³„ì¹­)</code>ê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="Spring" /><category term="Spring" /><category term="QueryDSL" /><summary type="html"><![CDATA[QueryDSL]]></summary></entry><entry><title type="html">[Programmers] ì§„ë£Œê³¼ë³„ ì´ ì˜ˆì•½ íšŸìˆ˜ ì¶œë ¥í•˜ê¸° (MySQL)</title><link href="http://localhost:4000/sql/2023/04/06/sql-resevecount.html" rel="alternate" type="text/html" title="[Programmers] ì§„ë£Œê³¼ë³„ ì´ ì˜ˆì•½ íšŸìˆ˜ ì¶œë ¥í•˜ê¸° (MySQL)" /><published>2023-04-06T00:00:00+09:00</published><updated>2023-04-06T00:00:00+09:00</updated><id>http://localhost:4000/sql/2023/04/06/sql-resevecount</id><content type="html" xml:base="http://localhost:4000/sql/2023/04/06/sql-resevecount.html"><![CDATA[<h2 id="-ë¬¸ì œ--ì§„ë£Œê³¼ë³„-ì´-ì˜ˆì•½-íšŸìˆ˜-ì¶œë ¥í•˜ê¸°">ğŸ“Œ ë¬¸ì œ : <a href="https://school.programmers.co.kr/learn/courses/30/lessons/132202">ì§„ë£Œê³¼ë³„ ì´ ì˜ˆì•½ íšŸìˆ˜ ì¶œë ¥í•˜ê¸°</a></h2>

<h3 id="-ë¬¸ì œ-ì„¤ëª…">ğŸ“– ë¬¸ì œ ì„¤ëª…</h3>

<p>ë‹¤ìŒì€ ì¢…í•©ë³‘ì›ì˜ ì§„ë£Œ ì˜ˆì•½ì •ë³´ë¥¼ ë‹´ì€ <code>APPOINTMENT</code> í…Œì´ë¸” ì…ë‹ˆë‹¤.<br />
<code>APPOINTMENT</code> í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° <code>APNT_YMD</code>, <code>APNT_NO</code>, <code>PT_NO</code>, <code>MCDP_CD</code>, <code>MDDR_ID</code>, <code>APNT_CNCL_YN</code>, <code>APNT_CNCL_YMD</code>ëŠ” ê°ê° ì§„ë£Œì˜ˆì•½ì¼ì‹œ, ì§„ë£Œì˜ˆì•½ë²ˆí˜¸, í™˜ìë²ˆí˜¸, ì§„ë£Œê³¼ì½”ë“œ, ì˜ì‚¬ID, ì˜ˆì•½ì·¨ì†Œì—¬ë¶€, ì˜ˆì•½ì·¨ì†Œë‚ ì§œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>Column name</th>
<th>Type</th>
<th>Nullable</th>
</tr>
</thead>
        <tbody><tr>
<td>APNT_YMD</td>
<td>TIMESTAMP</td>
<td>FALSE</td>
</tr>
<tr>
<td>APNT_NO</td>
<td>NUMBER(5)</td>
<td>FALSE</td>
</tr>
<tr>
<td>PT_NO</td>
<td>VARCHAR(10)</td>
<td>FALSE</td>
</tr>
<tr>
<td>MCDP_CD</td>
<td>VARCHAR(6)</td>
<td>FALSE</td>
</tr>
<tr>
<td>MDDR_ID</td>
<td>VARCHAR(10)</td>
<td>FALSE</td>
</tr>
<tr>
<td>APNT_CNCL_YN</td>
<td>VARCHAR(1)</td>
<td>TRUE</td>
</tr>
<tr>
<td>APNT_CNCL_YMD</td>
<td>DATE</td>
<td>TRUE</td>
</tr>
</tbody>
      </table>
<hr />

<h5>ë¬¸ì œ</h5>

<p><code>APPOINTMENT</code> í…Œì´ë¸”ì—ì„œ 2022ë…„ 5ì›”ì— ì˜ˆì•½í•œ í™˜ì ìˆ˜ë¥¼ ì§„ë£Œê³¼ì½”ë“œ ë³„ë¡œ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ, ì»¬ëŸ¼ëª…ì€ 'ì§„ë£Œê³¼ ì½”ë“œ', '5ì›”ì˜ˆì•½ê±´ìˆ˜'ë¡œ ì§€ì •í•´ì£¼ì‹œê³  ê²°ê³¼ëŠ” ì§„ë£Œê³¼ë³„ ì˜ˆì•½í•œ í™˜ì ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ê³ , ì˜ˆì•½í•œ í™˜ì ìˆ˜ê°€ ê°™ë‹¤ë©´ ì§„ë£Œê³¼ ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.</p>

<hr />

<h5>ì˜ˆì‹œ</h5>

<p><code>APPOINTMENT</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ</p>
<table class="table">
        <thead><tr>
<th>APNT_YMD</th>
<th>APNT_NO</th>
<th>PT_NO</th>
<th>MCDP_CD</th>
<th>MDDR_ID</th>
<th>APNT_CNCL_YN</th>
<th>APNT_CNCL_YMD</th>
</tr>
</thead>
        <tbody><tr>
<td>2022-04-14 09:30:00.000000</td>
<td>47</td>
<td>PT22000064</td>
<td>GS</td>
<td>DR20170123</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-04-15 10:30:00.000000</td>
<td>48</td>
<td>PT22000065</td>
<td>OB</td>
<td>DR20100231</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-15 17:30:00.000000</td>
<td>49</td>
<td>PT22000086</td>
<td>OB</td>
<td>DR20100231</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-18 10:30:00.000000</td>
<td>52</td>
<td>PT22000019</td>
<td>GS</td>
<td>DR20100039</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-19 12:00:00.000000</td>
<td>53</td>
<td>PT22000020</td>
<td>FM</td>
<td>DR20010112</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-22 08:30:00.000000</td>
<td>54</td>
<td>PT22000021</td>
<td>GS</td>
<td>DR20100039</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-04 10:30:00.000000</td>
<td>56</td>
<td>PT22000023</td>
<td>FM</td>
<td>DR20090112</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-14 15:30:00.000000</td>
<td>57</td>
<td>PT22000074</td>
<td>CS</td>
<td>DR20200012</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-24 15:30:00.000000</td>
<td>58</td>
<td>PT22000085</td>
<td>CS</td>
<td>DR20200012</td>
<td>N</td>
<td>NULL</td>
</tr>
<tr>
<td>2022-05-28 10:00:00.000000</td>
<td>60</td>
<td>PT22000092</td>
<td>OS</td>
<td>DR20100031</td>
<td>N</td>
<td>NULL</td>
</tr>
</tbody>
      </table>
<p>SQLì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì¶œë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th>ì§„ë£Œê³¼ì½”ë“œ</th>
<th>5ì›”ì˜ˆì•½ê±´ìˆ˜</th>
</tr>
</thead>
        <tbody><tr>
<td>OB</td>
<td>1</td>
</tr>
<tr>
<td>OS</td>
<td>1</td>
</tr>
<tr>
<td>CS</td>
<td>2</td>
</tr>
<tr>
<td>FM</td>
<td>2</td>
</tr>
<tr>
<td>GS</td>
<td>2</td>
</tr>
</tbody>
      </table>

<blockquote>
  <p>ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges</p>
</blockquote>

<hr />

<h2 id="-ë¬¸ì œ-í’€ì´">ğŸ— ë¬¸ì œ í’€ì´</h2>

<ol>
  <li>COUNTë¥¼ ì´ìš©í•˜ì—¬ ì˜ˆì•½í•œ ê±´ìˆ˜ì˜ í–‰ì˜ í•©ì„ ê·¸ë£¹í•‘ì‹œí‚´</li>
  <li>WHERE LIKEì ˆì„ ì´ìš©í•´ 22ë…„ 5ì›”ì˜ ì˜ˆì•½ê±´ìˆ˜ë§Œ ì¶œë ¥</li>
  <li><code class="language-plaintext highlighter-rouge">5ì›”ì˜ì˜ˆì•½ê±´ìˆ˜</code>ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ = COUNT(a.MCDP_CD) ASC</li>
  <li>3ë²ˆì´ ë™ì¼í•  ê²½ìš° <code class="language-plaintext highlighter-rouge">ì§„ë£Œê³¼ì½”ë“œ</code>ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ = a.MCDP_CD ASC</li>
</ol>

<pre><code class="language-RoomSql">SELECT a.MCDP_CD AS 'ì§„ë£Œê³¼ì½”ë“œ', 
    COUNT(a.MCDP_CD) AS '5ì›”ì˜ˆì•½ê±´ìˆ˜'
FROM APPOINTMENT a
WHERE a.APNT_YMD LIKE '2022-05%'
GROUP BY a.MCDP_CD
ORDER BY COUNT(a.MCDP_CD) ASC, a.MCDP_CD ASC;
</code></pre>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="SQL" /><category term="SQL" /><category term="Programmers" /><summary type="html"><![CDATA[ğŸ“Œ ë¬¸ì œ : ì§„ë£Œê³¼ë³„ ì´ ì˜ˆì•½ íšŸìˆ˜ ì¶œë ¥í•˜ê¸°]]></summary></entry><entry><title type="html">[Programmers] ì„±ë¶„ìœ¼ë¡œ êµ¬ë¶„í•œ ì•„ì´ìŠ¤í¬ë¦¼ ì´ ì£¼ë¬¸ëŸ‰ (MySQL)</title><link href="http://localhost:4000/sql/2023/04/05/sql-icecream.html" rel="alternate" type="text/html" title="[Programmers] ì„±ë¶„ìœ¼ë¡œ êµ¬ë¶„í•œ ì•„ì´ìŠ¤í¬ë¦¼ ì´ ì£¼ë¬¸ëŸ‰ (MySQL)" /><published>2023-04-05T00:00:00+09:00</published><updated>2023-04-05T00:00:00+09:00</updated><id>http://localhost:4000/sql/2023/04/05/sql-icecream</id><content type="html" xml:base="http://localhost:4000/sql/2023/04/05/sql-icecream.html"><![CDATA[<h2 id="-ë¬¸ì œ--ì„±ë¶„ìœ¼ë¡œ-êµ¬ë¶„í•œ-ì•„ì´ìŠ¤í¬ë¦¼-ì´-ì£¼ë¬¸ëŸ‰">ğŸ“Œ ë¬¸ì œ : <a href="https://school.programmers.co.kr/learn/courses/30/lessons/133026">ì„±ë¶„ìœ¼ë¡œ êµ¬ë¶„í•œ ì•„ì´ìŠ¤í¬ë¦¼ ì´ ì£¼ë¬¸ëŸ‰</a></h2>

<h3 id="-ë¬¸ì œ-ì„¤ëª…">ğŸ“– ë¬¸ì œ ì„¤ëª…</h3>

<p>ë‹¤ìŒì€ ì•„ì´ìŠ¤í¬ë¦¼ ê°€ê²Œì˜ ìƒë°˜ê¸° ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ì€ <code>FIRST_HALF</code> í…Œì´ë¸”ê³¼ ì•„ì´ìŠ¤í¬ë¦¼ ì„±ë¶„ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ <code>ICECREAM_INFO</code> í…Œì´ë¸”ì…ë‹ˆë‹¤. <code>FIRST_HALF</code> í…Œì´ë¸” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, <code>SHIPMENT_ID</code>, <code>FLAVOR</code>, <code>TOTAL_ORDER</code> ëŠ” ê°ê° ì•„ì´ìŠ¤í¬ë¦¼ ê³µì¥ì—ì„œ ì•„ì´ìŠ¤í¬ë¦¼ ê°€ê²Œê¹Œì§€ì˜ ì¶œí•˜ ë²ˆí˜¸, ì•„ì´ìŠ¤í¬ë¦¼ ë§›, ìƒë°˜ê¸° ì•„ì´ìŠ¤í¬ë¦¼ ì´ì£¼ë¬¸ëŸ‰ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. <code>FIRST_HALF</code> í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ëŠ” <code>FLAVOR</code>ì…ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th style="text-align: left">NAME</th>
<th style="text-align: left">TYPE</th>
<th>NULLABLE</th>
</tr>
</thead>
        <tbody><tr>
<td style="text-align: left">SHIPMENT_ID</td>
<td style="text-align: left">INT(N)</td>
<td>FALSE</td>
</tr>
<tr>
<td style="text-align: left">FLAVOR</td>
<td style="text-align: left">VARCHAR(N)</td>
<td>FALSE</td>
</tr>
<tr>
<td style="text-align: left">TOTAL_ORDER</td>
<td style="text-align: left">INT(N)</td>
<td>FALSE</td>
</tr>
</tbody>
      </table>
<p><code>ICECREAM_INFO</code> í…Œì´ë¸” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, <code>FLAVOR</code>, <code>INGREDITENT_TYPE</code> ì€ ê°ê° ì•„ì´ìŠ¤í¬ë¦¼ ë§›, ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì„±ë¶„ íƒ€ì…ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. <code>INGREDIENT_TYPE</code>ì—ëŠ” ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ì„¤íƒ•ì´ë©´ <code>sugar_based</code>ë¼ê³  ì…ë ¥ë˜ê³ , ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ê³¼ì¼ì´ë©´ <code>fruit_based</code>ë¼ê³  ì…ë ¥ë©ë‹ˆë‹¤. <code>ICECREAM_INFO</code>ì˜ ê¸°ë³¸ í‚¤ëŠ” <code>FLAVOR</code>ì…ë‹ˆë‹¤. <code>ICECREAM_INFO</code>í…Œì´ë¸”ì˜ <code>FLAVOR</code>ëŠ” <code>FIRST_HALF</code> í…Œì´ë¸”ì˜  <code>FLAVOR</code>ì˜ ì™¸ë˜ í‚¤ì…ë‹ˆë‹¤.</p>
<table class="table">
        <thead><tr>
<th style="text-align: left">NAME</th>
<th style="text-align: left">TYPE</th>
<th>NULLABLE</th>
</tr>
</thead>
        <tbody><tr>
<td style="text-align: left">FLAVOR</td>
<td style="text-align: left">VARCHAR(N)</td>
<td>FALSE</td>
</tr>
<tr>
<td style="text-align: left">INGREDIENT_TYPE</td>
<td style="text-align: left">VARCHAR(N)</td>
<td>FALSE</td>
</tr>
</tbody>
      </table>
<hr />

<h5>ë¬¸ì œ</h5>

<p>ìƒë°˜ê¸° ë™ì•ˆ ê° ì•„ì´ìŠ¤í¬ë¦¼ ì„±ë¶„ íƒ€ì…ê³¼ ì„±ë¶„ íƒ€ì…ì— ëŒ€í•œ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì´ì£¼ë¬¸ëŸ‰ì„ ì´ì£¼ë¬¸ëŸ‰ì´ ì‘ì€ ìˆœì„œëŒ€ë¡œ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ì´ì£¼ë¬¸ëŸ‰ì„ ë‚˜íƒ€ë‚´ëŠ” ì»¬ëŸ¼ëª…ì€ TOTAL_ORDERë¡œ ì§€ì •í•´ì£¼ì„¸ìš”.</p>

<hr />

<h5>ì˜ˆì‹œ</h5>

<p>ì˜ˆë¥¼ ë“¤ì–´ <code>FIRST_HALF</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ê³ </p>
<table class="table">
        <thead><tr>
<th style="text-align: left">SHIPMENT_ID</th>
<th style="text-align: left">FLAVOR</th>
<th>TOTAL_ORDER</th>
</tr>
</thead>
        <tbody><tr>
<td style="text-align: left">101</td>
<td style="text-align: left">chocolate</td>
<td>3200</td>
</tr>
<tr>
<td style="text-align: left">102</td>
<td style="text-align: left">vanilla</td>
<td>2800</td>
</tr>
<tr>
<td style="text-align: left">103</td>
<td style="text-align: left">mint_chocolate</td>
<td>1700</td>
</tr>
<tr>
<td style="text-align: left">104</td>
<td style="text-align: left">caramel</td>
<td>2600</td>
</tr>
<tr>
<td style="text-align: left">105</td>
<td style="text-align: left">white_chocolate</td>
<td>3100</td>
</tr>
<tr>
<td style="text-align: left">106</td>
<td style="text-align: left">peach</td>
<td>2450</td>
</tr>
<tr>
<td style="text-align: left">107</td>
<td style="text-align: left">watermelon</td>
<td>2150</td>
</tr>
<tr>
<td style="text-align: left">108</td>
<td style="text-align: left">mango</td>
<td>2900</td>
</tr>
<tr>
<td style="text-align: left">109</td>
<td style="text-align: left">strawberry</td>
<td>3100</td>
</tr>
<tr>
<td style="text-align: left">110</td>
<td style="text-align: left">melon</td>
<td>3150</td>
</tr>
<tr>
<td style="text-align: left">111</td>
<td style="text-align: left">orange</td>
<td>2900</td>
</tr>
<tr>
<td style="text-align: left">112</td>
<td style="text-align: left">pineapple</td>
<td>2900</td>
</tr>
</tbody>
      </table>
<p><code>ICECREAM_INFO</code> í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ë‹¤ë©´</p>
<table class="table">
        <thead><tr>
<th style="text-align: left">FLAVOR</th>
<th style="text-align: left">INGREDIENT_TYPE</th>
</tr>
</thead>
        <tbody><tr>
<td style="text-align: left">chocolate</td>
<td style="text-align: left">sugar_based</td>
</tr>
<tr>
<td style="text-align: left">vanilla</td>
<td style="text-align: left">sugar_based</td>
</tr>
<tr>
<td style="text-align: left">mint_chocolate</td>
<td style="text-align: left">sugar_based</td>
</tr>
<tr>
<td style="text-align: left">caramel</td>
<td style="text-align: left">sugar_based</td>
</tr>
<tr>
<td style="text-align: left">white_chocolate</td>
<td style="text-align: left">sugar_based</td>
</tr>
<tr>
<td style="text-align: left">peach</td>
<td style="text-align: left">fruit_based</td>
</tr>
<tr>
<td style="text-align: left">watermelon</td>
<td style="text-align: left">fruit_based</td>
</tr>
<tr>
<td style="text-align: left">mango</td>
<td style="text-align: left">fruit_based</td>
</tr>
<tr>
<td style="text-align: left">strawberry</td>
<td style="text-align: left">fruit_based</td>
</tr>
<tr>
<td style="text-align: left">melon</td>
<td style="text-align: left">fruit_based</td>
</tr>
<tr>
<td style="text-align: left">orange</td>
<td style="text-align: left">fruit_based</td>
</tr>
<tr>
<td style="text-align: left">pineapple</td>
<td style="text-align: left">fruit_based</td>
</tr>
</tbody>
      </table>
<p>ìƒë°˜ê¸°ì— ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ì„¤íƒ•ì¸ ì•„ì´ìŠ¤í¬ë¦¼ë“¤ì— ëŒ€í•œ ì´ì£¼ë¬¸ëŸ‰ì„ êµ¬í•˜ë©´ 3,200 + 2,800 + 1,700 + 2,600 + 3,100 = 13,400ì…ë‹ˆë‹¤.  ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ê³¼ì¼ì¸ ì•„ì´ìŠ¤í¬ë¦¼ë“¤ì— ëŒ€í•œ ì´ì£¼ë¬¸ëŸ‰ì„ êµ¬í•˜ë©´ 3,100 + 2,450 + 2,150 + 2,900 + 3,150 + 2,900 + 2,900 = 19,550ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ì£¼ë¬¸ëŸ‰ì´ ì‘ì€ ìˆœì„œëŒ€ë¡œ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤. </p>
<table class="table">
        <thead><tr>
<th style="text-align: left">INGREDIENT_TYPE</th>
<th>TOTAL_ORDER</th>
</tr>
</thead>
        <tbody><tr>
<td style="text-align: left">sugar_based</td>
<td>13400</td>
</tr>
<tr>
<td style="text-align: left">fruit_based</td>
<td>19550</td>
</tr>
</tbody>
      </table>

<blockquote>
  <p>ì¶œì²˜: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì½”ë”© í…ŒìŠ¤íŠ¸ ì—°ìŠµ, https://programmers.co.kr/learn/challenges</p>
</blockquote>

<hr />

<h2 id="-ë¬¸ì œ-í’€ì´">ğŸ— ë¬¸ì œ í’€ì´</h2>

<ol>
  <li>SUMì„ ì´ìš©í•´ TOTAL_ORDER ì˜ ê°’ì„ ì§‘ê³„í•œë‹¤, GROUP BYëŠ” INGREDIENT_TYPE ê¸°ì¤€ìœ¼ë¡œ</li>
  <li>LEFT JOINí•˜ì—¬ FLAVORì´ ê°™ì€ ê²ƒì„ ì°¾ê¸°</li>
</ol>

<pre><code class="language-RoomSql">SELECT i.INGREDIENT_TYPE,
    SUM(f.TOTAL_ORDER) AS TOTAL_ORDER
FROM FIRST_HALF f 
LEFT JOIN ICECREAM_INFO i
ON i.FLAVOR = f.FLAVOR
GROUP BY i.INGREDIENT_TYPE;
</code></pre>

<p><br /></p>]]></content><author><name>LEE JAEHYEOK</name></author><category term="SQL" /><category term="SQL" /><category term="Programmers" /><summary type="html"><![CDATA[ğŸ“Œ ë¬¸ì œ : ì„±ë¶„ìœ¼ë¡œ êµ¬ë¶„í•œ ì•„ì´ìŠ¤í¬ë¦¼ ì´ ì£¼ë¬¸ëŸ‰]]></summary></entry></feed>